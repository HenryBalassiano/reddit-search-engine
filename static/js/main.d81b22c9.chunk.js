(this.webpackJsonpreddit=this.webpackJsonpreddit||[]).push([[0],{161:function(e,t,r){},162:function(e,t,r){},164:function(e,t,r){"use strict";r.r(t);var c=r(4),n=r(13),s=r.n(n),a=r(30),i=r.n(a),d=r(59),o=r(9),l=(r(72),r(7)),u=r(60),j=(r(73),r(31)),b=r.n(j),h=(r(74),r(0));var p=function(e){var t=e.updateData,r=e.setSearch,n=e.minimize,s=e.setMinimize,a=(e.search,function(e){var t,r=new URLSearchParams(e),c={},n=Object(u.a)(r.keys());try{for(n.s();!(t=n.n()).done;){var s=t.value;r.getAll(s).length>1?c[s]=r.getAll(s):c[s]=r.get(s)}}catch(a){n.e(a)}finally{n.f()}return c}(window.location.search)),i=Object(c.useState)({username:a.username?a.username:"",subreddit:a.subreddit?a.subreddit:"",query:a.query?a.query:"",numReturned:a.numReturned?a.numReturned:"",score:a.score?a.score:"",before:a.before?a.before:"",after:a.after?a.after:"",searchTerm:a.searchTerm?a.searchTerm:""}),d=Object(o.a)(i,2),j=d[0],p=d[1];function O(e,t,r){var c="",n=e.split("?"),s=n[0],a=n[1],i="";if(a){n=a.split("&");for(var d=0;d<n.length;d++)n[d].split("=")[0]!=t&&(c+=i+n[d],i="&")}return s+"?"+c+(i+""+t+"="+r)}var f=O(window.location.href,"locId","newLoc");f=O(f,"resId","newResId");var m=Object(c.useRef)();return Object(h.jsx)("div",{id:"form-".concat(n?"hover":"parent"),children:Object(h.jsxs)("form",{onSubmit:function(e){t(j),e.preventDefault(),r(!1),s(!0);var c=[];for(var n in j)for(var a in j){j.hasOwnProperty(a)&&"function"!==typeof j[a]&&c.push(a);var i=j[n];i&&window.history.replaceState("","",O(window.location.href,n,i))}},class:"form-".concat(n?"minimize":"maximize"),ref:m,children:[Object(h.jsxs)("div",{id:"row-1",children:[Object(h.jsxs)("div",{className:"row-wrapper",children:[Object(h.jsx)("label",{children:"username"}),Object(h.jsx)("input",{value:j.username,placeholder:"Username",type:"text",onChange:function(e){p(Object(l.a)(Object(l.a)({},j),{},{username:e.target.value}))},id:"username-input"})," "]}),Object(h.jsxs)("div",{className:"row-wrapper",children:[Object(h.jsx)("label",{children:"subreddit"}),Object(h.jsx)("input",{value:j.subreddit,placeholder:"Subreddit",type:"text",onChange:function(e){p(Object(l.a)(Object(l.a)({},j),{},{subreddit:e.target.value}))},id:"subreddit-input"})," "]}),Object(h.jsxs)("div",{className:"row-wrapper",children:[Object(h.jsx)("label",{id:"search-for-input",children:"search for"}),Object(h.jsxs)("select",{onChange:function(e){p(Object(l.a)(Object(l.a)({},j),{},{query:e.target.value}))},children:[Object(h.jsx)("option",{children:"Comments"}),Object(h.jsx)("option",{children:"Submissions"})]})," "]})]}),Object(h.jsxs)("div",{id:"row-2",children:[Object(h.jsx)("div",{id:"num-input",children:Object(h.jsxs)("div",{id:"score-input",children:[Object(h.jsxs)("div",{className:"row-wrapper",children:[Object(h.jsx)("label",{children:"score"}),Object(h.jsx)("input",{placeholder:"Score",type:"number",id:"score-input-box",min:"25",step:"25",value:j.score,onChange:function(e){p(Object(l.a)(Object(l.a)({},j),{},{score:e.target.value}))}})," "]})," "]})}),Object(h.jsxs)("div",{className:"row-wrapper",children:[Object(h.jsxs)("div",{id:"before-input",children:[Object(h.jsx)("label",{children:"before"}),Object(h.jsx)(b.a,{popperProps:{positionFixed:!0},value:j.before,selected:j.before,onChange:function(e){p(Object(l.a)(Object(l.a)({},j),{},{before:e}))}})," ",Object(h.jsx)("span",{class:"fa fa-calendar-o"})]})," "]}),Object(h.jsx)("div",{className:"row-wrapper",children:Object(h.jsxs)("div",{id:"after-input",children:[Object(h.jsx)("label",{children:"after"}),Object(h.jsx)(b.a,{popperProps:{positionFixed:!0},type:"text",selected:j.after,onChange:function(e){return p(Object(l.a)(Object(l.a)({},j),{},{after:e}))}})," ",Object(h.jsx)("span",{class:"fa fa-calendar-o"})]})})]})," ",Object(h.jsxs)("div",{id:"row-3",children:[Object(h.jsx)("div",{id:"search-term-input",children:Object(h.jsxs)("div",{className:"row-wrapper",children:[Object(h.jsx)("label",{children:"keywords"}),Object(h.jsx)("input",{value:j.searchTerm,placeholder:"Keywords",type:"text",onChange:function(e){p(Object(l.a)(Object(l.a)({},j),{},{searchTerm:e.target.value}))}})," "]})}),Object(h.jsxs)("div",{className:"row-wrapper",children:[Object(h.jsx)("label",{children:"amount returned"}),Object(h.jsx)("input",{placeholder:"Size",onChange:function(e){p(Object(l.a)(Object(l.a)({},j),{},{numReturned:e.target.value}))},value:j.numReturned,type:"number",min:"25",step:"25",max:"100",id:"amnt-ret"})," "]})]}),Object(h.jsx)("div",{id:"row-4",children:Object(h.jsx)("div",{id:"seach-btn",children:Object(h.jsxs)("div",{className:"row-wrapper",children:[Object(h.jsx)("input",{id:"search-btn",value:"Search",type:"submit"})," "]})})})]})})};r(161),r(162);var O=function(){return Object(h.jsx)("div",{id:"loader-parent",children:Object(h.jsx)("div",{id:"loading"})})};var f=function(e){var t=e.api,r=e.query,n=e.errorMessage,s=e.error,a=(e.data,e.setMore),i=Object(c.useRef)(),d=Object(c.useRef)();return Object(c.useRef)(),console.log(t),Object(h.jsxs)("div",{id:"item-parent",children:[" ",Object(h.jsxs)("h1",{ref:s,children:[" ",n," \ud83d\ude22 "]}),Object(h.jsxs)("h4",{ref:i,children:["-",t.length," results- "]}),t.map((function(e,c){var n,s=new Date(1e3*e.created_utc).toString(),a={Jan:"1",Feb:"2",Mar:"3",Apr:"4",May:"5",Jun:"6",Jul:"7",Aug:"8",Sep:"9",Oct:"10",Nov:"11",Dec:"12"}[s.slice(4,7)];if(!e)return i.current.style.display="none",d.current.style.display="none",Object(h.jsx)(O,{},c);n=e.permalink?e.permalink:"/comments/".concat(e.link_id.split("_")[1],"/_/").concat(e.id);var o=a+"/"+s.slice(8,10)+"/"+s.slice(11,15);return t.length>0?(i.current.style.display="block",d.current.style.display="block",Object(h.jsxs)("div",{className:"parent",children:[Object(h.jsxs)("div",{id:"left-panel",children:[" ","Submissions"===r?Object(h.jsx)("img",{loading:"lazy",src:e.url}):"",Object(h.jsxs)("span",{children:["/r/",e.subreddit]}),Object(h.jsxs)("span",{children:["/u/",e.author]})]})," ",Object(h.jsx)("div",{id:"right-panel",children:o}),Object(h.jsxs)("div",{id:"child",children:[" ",Object(h.jsxs)("a",{href:e.full_link||"https://reddit.com".concat(n),target:"_blank",rel:"noreferrer",children:[" ",Object(h.jsx)("div",{id:"title",children:e.title}),Object(h.jsxs)("p",{id:"body",children:[e.body,e.selftext]})]})]})," "]},c)):(i.current.style.display="none",d.current.style.display="none",Object(h.jsx)(O,{},c))})),Object(h.jsxs)("div",{id:"more-parent",children:[" ",Object(h.jsx)("input",{ref:d,id:"more",value:"Load More",type:"submit",onClick:function(){a(!0)}})]})]})};r(163);var m=function(){var e=Object(c.useState)({username:!1,subreddit:!1,query:!1,numReturned:!1,score:!1,before:!1,after:!1,searchTerm:!1}),t=Object(o.a)(e,2),r=t[0],n=t[1],s=Object(c.useState)([]),a=Object(o.a)(s,2),l=a[0],u=a[1],j=Object(c.useState)(!0),b=Object(o.a)(j,2),O=b[0],m=b[1],x=Object(c.useState)(!1),v=Object(o.a)(x,2),y=v[0],g=v[1],w=Object(c.useState)(!1),C=Object(o.a)(w,2),S=C[0],k=C[1],N=Object(c.useState)(),R=Object(o.a)(N,2),M=R[0],L=R[1],T=Object(c.useRef)(null),q="",z="comment",F="",D="",_="";function P(){return A.apply(this,arguments)}function A(){return(A=Object(d.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u([!1]),e.next=4,fetch("https://api.pushshift.io/reddit/search/".concat(z,"/?").concat(q).concat(_).concat(D).concat(F));case 4:return t=e.sent,e.next=7,t.json();case 7:0===(r=e.sent).data.length?(L("Hey! That doesn't exist!"),T.current.style.display="block"):T.current.style.display="none",u(r.data),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}if(r.username&&(q+="author="+r.username+"&"),r.subreddit&&(q+="subreddit="+r.subreddit+"&"),r.searchTerm&&(q+="q="+r.searchTerm+"&"),r.numReturned&&(q+="size="+r.numReturned+"&"),r.query.length>0&&(z=r.query.toLowerCase().slice(0,-1)),r.before&&(D+="before="+Math.floor(r.before.getTime()/1e3)+"&",F=""),r.after&&(_+="after="+Math.floor(r.after.getTime()/1e3)+"&"),r.score&&(q+="score=>"+r.score+"&"),!1===O&&(P(),T.current.style.display="none",m(!0)),y){var I=l.slice(-1)[0].created_utc;F+="before="+I+"&",D="",_="",P(),g(!1)}return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("a",{href:"https://github.com/HenryBalassiano/reddit-search-engine",className:"github-corner","aria-label":"View source on GitHub",children:Object(h.jsxs)("svg",{width:"80",height:"80",viewBox:"0 0 250 250",style:{fill:"#FD6C6C",color:"#fff",position:"absolute",top:0,border:0,right:0},"aria-hidden":"true",children:[Object(h.jsx)("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}),Object(h.jsx)("path",{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor",style:{"transform-origin":"130px 106px"},className:"octo-arm"}),Object(h.jsx)("path",{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor",className:"octo-body"})]})})," ",Object(h.jsxs)("div",{id:"form-wrapper",children:[Object(h.jsx)("div",{className:"panel-header",children:Object(h.jsxs)("h2",{id:"search-min",children:["Search Query"," ",Object(h.jsx)("i",{onClick:function(){k(!0),S&&k(!1)},class:"fa fa-".concat(S?"plus":"minus","-square"),"aria-hidden":"true"})]})}),Object(h.jsx)(p,{minimize:S,setSearch:m,search:O,updateData:n,setMinimize:k})]}),Object(h.jsx)("br",{}),Object(h.jsx)("div",{id:"items-parent",children:Object(h.jsx)(f,{api:l,query:r.query,errorMessage:M,error:T,data:n,setMore:g})})]})},x=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,166)).then((function(t){var r=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,a=t.getTTFB;r(e),c(e),n(e),s(e),a(e)}))};s.a.render(Object(h.jsx)(m,{}),document.getElementById("root")),x()},72:function(e,t,r){},73:function(e,t,r){}},[[164,1,2]]]);
//# sourceMappingURL=main.d81b22c9.chunk.js.map