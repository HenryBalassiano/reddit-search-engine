(this.webpackJsonpreddit=this.webpackJsonpreddit||[]).push([[0],{187:function(e,t,n){},188:function(e,t,n){},208:function(e,t,n){},209:function(e,t,n){},230:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n(24),s=n.n(i),a=n(15),r=n.n(a),o=n(49),l=n(31),d=n(12),u=n(87),j=n(7),h=(n(98),n(6)),b=(n(99),n(50)),f=n.n(b),p=(n(100),n(0));var O=function(e){var t=e.updateData,n=e.setSearch,i=e.minimize,s=e.setMinimize,a=(e.search,e.showResults),r=e.showFava,o=e.changeQuerySize,d=e.toggleInput,u=e.setApi,b=e.apis,O=(e.syncingData,Object(c.useRef)()),x=Object(c.useRef)(),g=Object(c.useRef)(),m=Object(c.useRef)(),v=function(e){var t,n=new URLSearchParams(e),c={},i=Object(l.a)(n.keys());try{for(i.s();!(t=i.n()).done;){var s=t.value;n.getAll(s).length>1?c[s]=n.getAll(s):c[s]=n.get(s)}}catch(a){i.e(a)}finally{i.f()}return c}(window.location.search),y=Object(c.useState)({author:v.author?v.author.replace(/ /g,""):"",subreddit:v.subreddit?v.subreddit:"",type:v.type?v.type:"",size:parseInt(v.size)?parseInt(v.size):100,score:v.score?v.score:"",before:v.before?Math.floor(new Date(v.before).getTime()/1e3*1e3):"",after:v.after?Math.floor(new Date(v.after).getTime()/1e3*1e3):"",q:v.q?v.q:"",over_18:v.over_18?v.over_18:"",stickied:v.stickied?v.stickied:"",is_self:v.is_self?v.is_self:"",locked:v.locked?v.locked:"",distinguished:v.distinguished?v.distinguished:"",id:v.id?v.id:"",link_id:v.link_id?v.link_id:""}),k=Object(j.a)(y,2),w=k[0],S=k[1],_=Object(c.useState)(!1),N=Object(j.a)(_,2),z=N[0],C=N[1];return Object(c.useEffect)((function(){var e=!1;window.location.search&&!e&&(e=!0,t(w),n(!1),s(!0),r.current.style.display="flex",a.current.style.display="block")}),[]),Object(c.useEffect)((function(){"checked"===localStorage.getItem("setting1")&&(O.current.style.display="flex",x.current.style.display="block"),"checked"===localStorage.getItem("setting2")&&(g.current.style.display="flex")})),Object(c.useEffect)((function(){"Miser"!==b||w.author?(m.current.required=!1,C(!1)):(m.current.required=!0,C(!0))}),[b,w.author]),Object(p.jsxs)("div",{id:"".concat(i?"search-query-minimized":"search-query-maximized"),children:[" ",Object(p.jsx)("div",{className:"panel-header",children:Object(p.jsxs)("h2",{id:"search-min",onClick:o,className:d?"light-search-tag":"",children:["Search Query"," ",Object(p.jsx)("i",{onClick:o,class:"fa fa-".concat(i?"plus":"minus","-square"),"aria-hidden":"true"})]})}),Object(p.jsx)("div",{id:"form-".concat(i?"hover":"parent"),onClick:i?o:"",className:d?"light-form":"",children:Object(p.jsx)("div",{id:d?"form-light":"form",children:Object(p.jsxs)("form",{onSubmit:function(e){t(w),e.preventDefault(),n(!1),s(!0),r.current.style.display="flex",a.current.style.display="block";var c="";for(var i in w)""!=c&&(c+="&"),c=(c+=i+"="+encodeURIComponent(w[i])).replace(/[^=&]+=(&|$)/g,"").replace(/&$/,""),window.location.search=c},class:"form-".concat(i?"minimize":"maximize"),children:[Object(p.jsxs)("div",{id:"row-1",children:[Object(p.jsxs)("div",{className:"row-wrapper",children:[Object(p.jsx)("label",{children:"username"}),Object(p.jsx)("input",{value:w.author,placeholder:"Username",type:"text",onChange:function(e){S(Object(h.a)(Object(h.a)({},w),{},{author:e.target.value.replace(/ /g,"")}))},ref:m,id:"author-".concat(z?"required":"input")})," "]}),Object(p.jsxs)("div",{className:"row-wrapper",children:[Object(p.jsx)("label",{children:"subreddit"}),Object(p.jsx)("input",{value:w.subreddit,placeholder:"Subreddit",type:"text",onChange:function(e){S(Object(h.a)(Object(h.a)({},w),{},{subreddit:e.target.value.replace(/ /g,"")}))},id:"subreddit-input"})," "]}),Object(p.jsxs)("div",{className:"row-wrapper",children:[Object(p.jsx)("label",{id:"search-for-input",children:"search for"}),Object(p.jsxs)("select",{onChange:function(e){S(Object(h.a)(Object(h.a)({},w),{},{type:e.target.value}))},value:w.type,children:[" ",Object(p.jsx)("option",{children:"Any"}),Object(p.jsx)("option",{children:"Comments"}),Object(p.jsx)("option",{children:"Submissions"})]})," "]})," "]}),Object(p.jsxs)("div",{id:"row-2",children:[Object(p.jsx)("div",{id:"num-input",children:Object(p.jsxs)("div",{id:"score-input",children:[Object(p.jsxs)("div",{className:"row-wrapper",children:[Object(p.jsx)("label",{children:"score"}),Object(p.jsx)("input",{placeholder:"Score",type:"number",id:"score-input-box",min:"25",step:"25",value:w.score,onChange:function(e){S(Object(h.a)(Object(h.a)({},w),{},{score:e.target.value}))}})," "]})," "]})}),Object(p.jsxs)("div",{className:"row-wrapper",children:[Object(p.jsxs)("div",{id:"before-input",children:[Object(p.jsx)("label",{children:"before"}),Object(p.jsx)(f.a,{popperProps:{positionFixed:!0},value:new Date(1e3*w.before),selected:w.before,onChange:function(e){S(Object(h.a)(Object(h.a)({},w),{},{before:e}))}})," ",Object(p.jsx)("span",{class:"fa fa-calendar-o"})]})," "]}),Object(p.jsx)("div",{className:"row-wrapper",children:Object(p.jsxs)("div",{id:"after-input",children:[Object(p.jsx)("label",{children:"after"}),Object(p.jsx)(f.a,{popperProps:{positionFixed:!0},type:"text",selected:w.after,onChange:function(e){return S(Object(h.a)(Object(h.a)({},w),{},{after:e}))}})," ",Object(p.jsx)("span",{class:"fa fa-calendar-o"})]})})," "]})," ",Object(p.jsxs)("div",{id:"advanced-row",ref:O,children:[Object(p.jsxs)("div",{className:"row-wrapper",children:[Object(p.jsx)("label",{children:"NSFW"}),Object(p.jsxs)("select",{className:"advanced-input",value:w.over_18,onChange:function(e){S(Object(h.a)(Object(h.a)({},w),{},{over_18:e.target.value}))},children:[Object(p.jsx)("option",{children:"Any"}),Object(p.jsx)("option",{children:"True"}),Object(p.jsx)("option",{children:"False"})]})," "]})," ",Object(p.jsxs)("div",{className:"row-wrapper",children:[Object(p.jsx)("label",{children:"Stickied"}),Object(p.jsxs)("select",{className:"advanced-input",value:w.stickied,onChange:function(e){S(Object(h.a)(Object(h.a)({},w),{},{stickied:e.target.value}))},children:[Object(p.jsx)("option",{children:"Any"}),Object(p.jsx)("option",{children:"True"}),Object(p.jsx)("option",{children:"False"})]})," "]})," ",Object(p.jsxs)("div",{className:"row-wrapper",children:[Object(p.jsx)("label",{children:"Is Self"}),Object(p.jsxs)("select",{className:"advanced-input",value:w.is_self,onChange:function(e){S(Object(h.a)(Object(h.a)({},w),{},{is_self:e.target.value}))},children:[Object(p.jsx)("option",{children:"Any"}),Object(p.jsx)("option",{children:"True"}),Object(p.jsx)("option",{children:"False"})]})," "]}),Object(p.jsxs)("div",{className:"row-wrapper",children:[Object(p.jsx)("label",{children:"Locked"}),Object(p.jsxs)("select",{className:"advanced-input",value:w.locked,onChange:function(e){S(Object(h.a)(Object(h.a)({},w),{},{locked:e.target.value}))},children:[Object(p.jsx)("option",{children:"Any"}),Object(p.jsx)("option",{children:"True"}),Object(p.jsx)("option",{children:"False"})]})," "]})," ",Object(p.jsxs)("div",{className:"row-wrapper",children:[Object(p.jsx)("label",{children:"Distinguished"}),Object(p.jsxs)("select",{className:"advanced-input",value:w.distinguished,onChange:function(e){S(Object(h.a)(Object(h.a)({},w),{},{distinguished:e.target.value}))},children:[Object(p.jsx)("option",{children:"Any"}),Object(p.jsx)("option",{children:"Admin"}),Object(p.jsx)("option",{children:"Moderator"})]})," "]})]}),Object(p.jsxs)("div",{id:"row-3",children:[Object(p.jsx)("div",{id:"search-term-input",children:Object(p.jsxs)("div",{className:"row-wrapper",children:[Object(p.jsx)("label",{children:"Search Terms"}),Object(p.jsx)("input",{value:w.q,placeholder:"Search Terms",type:"text",onChange:function(e){S(Object(h.a)(Object(h.a)({},w),{},{q:e.target.value}))}})," "]})}),Object(p.jsxs)("div",{className:"row-wrapper",children:[Object(p.jsx)("label",{children:"amount returned"}),Object(p.jsx)("input",{placeholder:"Size",onChange:function(e){S(Object(h.a)(Object(h.a)({},w),{},{size:parseInt(e.target.value)}))},value:w.size,type:"number",min:"25",step:"25",id:"amnt-ret"})," "]})," ",Object(p.jsxs)("div",{className:"row-wrapper",id:"api-wrapper",ref:x,children:[Object(p.jsx)("label",{children:"API"}),Object(p.jsxs)("select",{id:"advanced-api-search",onChange:function(e){u(e.target.value)},value:b,children:[Object(p.jsx)("option",{children:"Pushshift"}),Object(p.jsx)("option",{children:"Reddit"}),Object(p.jsx)("option",{children:"Miser"})]})," "]})]}),Object(p.jsxs)("div",{id:"developer-row",ref:g,children:[Object(p.jsxs)("div",{className:"row-wrapper",children:[Object(p.jsx)("label",{children:"ID"}),Object(p.jsx)("input",{placeholder:"ID",type:"text",onChange:function(e){S(Object(h.a)(Object(h.a)({},w),{},{id:e.target.value}))}})," "]})," ",Object(p.jsxs)("div",{className:"row-wrapper",children:[Object(p.jsx)("label",{children:"Link ID"}),Object(p.jsx)("input",{placeholder:"Link ID",type:"text",onChange:function(e){S(Object(h.a)(Object(h.a)({},w),{},{link_id:e.target.value.replace(/ /g,"")}))}})," "]})," "]}),Object(p.jsx)("div",{id:"row-4",children:Object(p.jsx)("div",{id:"seach-btn",children:Object(p.jsxs)("div",{className:"row-wrapper",children:[Object(p.jsx)("input",{id:"search-btn",value:"Search",type:"submit"})," "]})})})]})})})]})};n(187),n(188);var x=function(){return Object(p.jsxs)("div",{id:"loader-parent",children:[" ",Object(p.jsx)("i",{className:"fa fa-cog fa-spin",style:{color:"white",fontSize:"2em",position:"relative",display:"flex",alignContent:"center",top:"2px",fontSmooth:"auto"}})]})},g=n(53),m=n.n(g),v=n(90);var y=function(e){var t=e.api,i=e.errorMessage,s=e.error,a=(e.data,e.setMore),r=e.minimizeR,o=e.showResults,l=e.size,d=e.loadingMessage,u=e.searchTerm,h=e.changeResultsSize,b=e.resultAmt,f=e.toggleInput,O=e.syncingData,g=(e.loading,e.requests),y=e.itemCount,k=Object(c.useRef)(!1),w=Object(c.useRef)(!1),S=Object(c.useRef)(!1),_=Object(c.useState)({expanded:""}),N=Object(j.a)(_,2),z=N[0],C=N[1],I=Object(c.useRef)();Object(c.useRef)();var R=n(207);return Object(p.jsxs)("div",{id:"".concat(r?"results-minimized":""),onClick:r?h:"",children:[Object(p.jsx)("div",{id:"results-header",children:Object(p.jsxs)("h2",{id:"results-min",onClick:h,className:f?"light-results-tag":"",children:["Results - ",b," ",Object(p.jsx)("i",{onClick:h,className:"fa fa-".concat(r?"plus":"minus","-square"),"aria-hidden":"true"})]})}),Object(p.jsxs)("div",{id:"item-".concat(r?"hover":"parent"),ref:o,className:f?"light-results":"",children:[Object(p.jsxs)("div",{ref:s,id:"error",children:[" ",i]}),!O&&"No Results"!==i&&Object(p.jsxs)("div",{id:"loader-wrapper",children:[Object(p.jsx)(x,{})," ",Object(p.jsxs)("div",{id:"loading-text",children:["Loading \u2022"," ","Fetching ".concat(y,"/").concat(l," items in ").concat(g," requests")," "]})," "]}),O&&t.slice(0,l).map((function(e,n){var c=new Date(1e3*e.created_utc).toString();var i,a={Jan:"1",Feb:"2",Mar:"3",Apr:"4",May:"5",Jun:"6",Jul:"7",Aug:"8",Sep:"9",Oct:"10",Nov:"11",Dec:"12"}[c.slice(4,7)];if(!e)return I.current.style.display="none",Object(p.jsxs)("div",{id:"loader-wrapper",children:[Object(p.jsx)(x,{},n)," ",Object(p.jsx)("div",{id:"loading-text",children:"Loading \u2022 Results "})," "]});i=e.permalink?e.permalink:"/comments/".concat(e.link_id.split("_")[1],"/_/").concat(e.id);c.slice(8,10),c.slice(11,15);if(t.length>0&&k){I.current.style.display="block",r&&(I.current.style.display="none"),l>t.length&&(I.current.style.display="none"),0===t.length?s.current.style.display="block":s.current.style.display="none",l>t.length&&(I.current.style.display="block"),l>t.length&&(I.current.style.display="none");var o=R.getParser().render(e.body?e.body:e.selftext?e.selftext:"");return Object(p.jsx)("div",{className:"parent",id:"results-".concat(r?"minimize":"maximize"),children:Object(p.jsxs)("div",{className:"details",children:[" ",Object(p.jsxs)("div",{className:"image-parent",children:[e.domain?Object(p.jsxs)("div",{id:"image-child",children:["self"!==e.thumbnail&&"default"!==e.thumbnail&&"nsfw"!==e.thumbnail&&"image"!==e.thumbnail&&"spoiler"!==e.thumbnail?Object(p.jsx)("div",{id:"image",onClick:function(){C({expanded:n}),z.expanded===n&&C({expanded:!1})},style:{backgroundImage:"url(".concat("bmp"===e.url.substring(e.url.length-3)||"jpg"===e.url.substring(e.url.length-3)||"png"===e.url.substring(e.url.length-3)||"gif"===e.url.substring(e.url.length-3)?e.url:e.thumbnail,")")}}):"","default"===e.thumbnail&&"self"===e.domain.slice(0,4)||"self"===e.thumbnail?Object(p.jsxs)("div",{id:"self-post",children:[e.is_deleted?Object(p.jsx)("i",{class:"fa fa-trash",style:{fontSize:"25px",color:"white",zIndex:"999"},"aria-hidden":"true"}):"",Object(p.jsx)("div",{style:{opacity:e.is_deleted?"0.4":"",filter:"brightness(0.75)"},children:Object(p.jsx)("i",{className:"fa fa-file-text","aria-hidden":"true"})})," "]}):"","nsfw"===e.thumbnail||"spoiler"===e.thumbnail?Object(p.jsxs)("div",{id:"nsfw",children:[" ",e.is_deleted?Object(p.jsx)("i",{class:"fa fa-trash",style:{fontSize:"25px",color:"white",zIndex:"999"},"aria-hidden":"true"}):"",Object(p.jsx)("div",{style:{opacity:e.is_deleted?"0.4":"",filter:"brightness(0.75)"},children:Object(p.jsx)("i",{className:"fa fa-user-secret","aria-hidden":"true"})})," "]}):"","self"!==e.domain.slice(0,4)&&"default"===e.thumbnail||"nsfw"!==e.thumbnail&&"image"===e.thumbnail?Object(p.jsxs)("div",{id:"link-post",children:[e.is_deleted?Object(p.jsx)("i",{class:"fa fa-trash",style:{fontSize:"25px",color:"white",zIndex:"999"},"aria-hidden":"true"}):"",Object(p.jsx)("div",{style:{opacity:e.is_deleted?"0.4":"",filter:"brightness(0.75)"},children:Object(p.jsx)("i",{class:"fa fa-link","aria-hidden":"true"})})," "]}):""]}):"",Object(p.jsx)("div",{id:"align-vertically",children:Object(p.jsxs)("div",{id:"details-child",children:[Object(p.jsx)(m.a,{mark:u,children:e.title?Object(p.jsx)("div",{id:"title",ref:S,children:Object(p.jsx)("a",{id:"title-anchor",children:Object(p.jsxs)("p",{children:[Object(p.jsxs)("a",{id:"title-anchor-child",href:e.full_link||"https://reddit.com".concat(i),children:[" ",e.title]})," ",e.is_deleted?Object(p.jsxs)("span",{id:"is-deleted",children:[e.is_deleted," ",Object(p.jsx)("i",{style:{position:"relative",lineHeight:"0px",fontWeight:"200",display:"inline-block"},class:"fa fa-trash-o","aria-hidden":"true"})]}):"",e.over_18?Object(p.jsxs)("span",{id:"NSFW-flair",children:["NSFW"," ",Object(p.jsx)("i",{style:{position:"relative",lineHeight:"0px",fontWeight:"200",display:"inline-block"},class:"fa fa-eye-slash","aria-hidden":"true"})]}):"",e.stickied?Object(p.jsxs)("span",{id:"stickied-flair",children:["Stickied"," ",Object(p.jsx)("i",{style:{position:"relative",lineHeight:"0px",fontWeight:"200",display:"inline-block"},class:"fa fa-sticky-note-o","aria-hidden":"true"})]}):"",e.locked?Object(p.jsxs)("span",{id:"locked-flair",children:["Locked"," ",Object(p.jsx)("i",{style:{position:"relative",lineHeight:"0px",fontWeight:"200",display:"inline-block"},class:"fa fa-lock","aria-hidden":"true"})]}):"",e.distinguished?Object(p.jsxs)("span",{id:"distinguished-flair",children:["moderator"===e.distinguished?"moderator":"admin"," ",Object(p.jsx)("i",{style:{position:"relative",lineHeight:"0px",fontWeight:"200",display:"inline-block"},class:"fa fa-lock","aria-hidden":"true"})]}):"",Object(p.jsxs)("a",{id:"domain",href:e.url,children:["(",e.domain,")"]})]})})}):""}),Object(p.jsxs)("a",{children:["t3"===e.kind?"submitted":"commented"," by"," "]}),Object(p.jsxs)("a",{className:"author",children:["u/",e.author]}),Object(p.jsxs)("a",{title:new Date(c),children:[" ",function(e){var t=Math.floor((new Date-e)/1e3),n=t/31536e3;return n>1?Math.floor(n)+" years":(n=t/2592e3)>1?Math.floor(n)+" months":(n=t/86400)>1?Math.floor(n)+" days":(n=t/3600)>1?Math.floor(n)+" hours":(n=t/60)>1?Math.floor(n)+" minutes":Math.floor(t)+" seconds"}(new Date(c))," ago in"," "]}),Object(p.jsxs)("a",{className:"subreddit",children:["r/",e.subreddit]})," ",e.is_deleted&&"t1"===e.kind?Object(p.jsx)("i",{class:"fa fa-trash-o",title:e.is_deleted,style:{fontSize:"15px",color:"#eee",zIndex:"999"},"aria-hidden":"true"}):"",Object(p.jsxs)("div",{id:"tags",children:[Object(p.jsx)("div",{id:"upvote",children:Object(p.jsxs)("i",{class:"fa fa-arrow-up","aria-hidden":"true",children:[" ",Object(p.jsx)("span",{id:"score",children:e.score})]})}),"t3"===e.kind?Object(p.jsx)("div",{id:"upvote-percentage",children:Object(p.jsxs)("i",{class:"fa fa-line-chart","aria-hidden":"true",children:[" ",Object(p.jsxs)("span",{id:"score",children:[e.upvote_ratio?Math.trunc(100*e.upvote_ratio):100,"%"]})]})}):""]})]})})]}),!!(e.body||e.selftext||"t3"===e.kind&&z.expanded===n)&&Object(p.jsx)("div",{id:"body-parent",children:Object(p.jsx)(m.a,{mark:u,children:Object(p.jsxs)("div",{id:"body",ref:w,children:[Object(v.a)(o),"t3"===e.kind?e.url.match("^(https?|ftp)://.*(jpg|png|gif|bmp)")?"":e.url:"","t3"===e.kind?Object(p.jsxs)("div",{id:"body-image",children:[e.url.match("^(https?|ftp)://.*(jpg|png|gif|bmp)")?Object(p.jsx)("img",{src:e.url}):""," "]}):""]})})}),Object(p.jsxs)("div",{className:"footer",children:[Object(p.jsx)("div",{id:"view-on-reddit",children:Object(p.jsx)("a",{href:e.full_link||"https://reddit.com".concat(i),target:"_blank",rel:"noreferrer",children:"view on reddit"})}),Object(p.jsx)("div",{id:"view-on-reddit",children:Object(p.jsx)("a",{href:"https://www.removeddit.com".concat(i),target:"_blank",rel:"noreferrer",children:"view on removeddit"})})]})]})},n)}I.current.style.display="none"}))," ",Object(p.jsxs)("button",{id:"load-more",onClick:function(e){a(!0)},ref:I,style:{pointerEvents:d?"none":""},children:[Object(p.jsxs)("div",{id:"load-more-wrapper",children:[d?Object(p.jsxs)("div",{id:"load-more-parent",children:[" ",Object(p.jsx)("i",{className:"fa fa-cog fa-spin",style:{color:"white",fontSize:"2em",position:"relative",display:"flex",alignContent:"center",fontSmooth:"auto",bottom:"1px"}})]}):"",Object(p.jsxs)("div",{id:"load-more-text",children:[d?"Loading \u2022 Fetching ".concat(y,"/").concat(l," items in ").concat(g," requests"):"Load More"," "]})," "]})," "]})," "]})]})};n(208);var k=function(){return Object(p.jsx)("div",{children:Object(p.jsx)("h1",{id:"temp",children:"Work In Progress"})})};n(209);var w=function(){var e=Object(c.useRef)(!1),t=Object(c.useRef)(!1),n=Object(c.useRef)(!1);return Object(c.useEffect)((function(){"checked"===localStorage.getItem("setting1")&&(t.current.checked=!0),"checked"===localStorage.getItem("setting2")&&(n.current.checked=!0),"checked"===localStorage.getItem("setting3")&&(e.current.checked=!0)})),Object(p.jsxs)("div",{id:"settings-parent",children:[Object(p.jsx)("div",{className:"settings-header",children:Object(p.jsx)("h2",{id:"settings-tag",children:"Settings "})}),Object(p.jsxs)("div",{id:"settings-child",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("input",{type:"checkbox",id:"advanced-options",ref:t,onChange:function(e){var t="";e.target.checked&&(t="checked"),localStorage.setItem("setting1",t)}})," ",Object(p.jsx)("label",{for:"advanced-options",children:"Show Advanced Options"})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("input",{type:"checkbox",id:"developer-options",ref:n,onChange:function(e){var t="";e.target.checked&&(t="checked"),localStorage.setItem("setting2",t)}})," ",Object(p.jsx)("label",{for:"developer-options",children:" Show Developer Options"})]})," ",Object(p.jsxs)("div",{children:[Object(p.jsx)("input",{type:"checkbox",id:"NSFW",ref:e,onChange:function(e){var t="";e.target.checked&&(t="checked"),localStorage.setItem("setting3",t)}})," ",Object(p.jsx)("label",{for:"NSFW",children:" Hide NSFW Content"})]})]})]})},S=n(21),_=n(9),N=n(91),z=n.n(N);var C=function(){var e=n(210),t=Object(c.useState)({author:!1,subreddit:!1,type:"any",size:100,score:!1,before:!1,after:!1,q:!1,is_self:!1,id:!1,link_id:!1}),i=Object(j.a)(t,2),s=i[0],a=i[1],h=Object(c.useState)([]),b=Object(j.a)(h,2),f=b[0],x=b[1],g=Object(c.useState)(!0),m=Object(j.a)(g,2),v=m[0],N=m[1],C=Object(c.useState)(!1),I=Object(j.a)(C,2),R=I[0],D=I[1],M=Object(c.useState)(!1),A=Object(j.a)(M,2),F=A[0],P=A[1],T=Object(c.useState)(!1),q=Object(j.a)(T,2),E=q[0],L=q[1],W=Object(c.useState)(!1),K=Object(j.a)(W,2),U=K[0],H=K[1],J=Object(c.useState)(!1),X=Object(j.a)(J,2),Q=(X[0],X[1],Object(c.useState)()),B=Object(j.a)(Q,2),Y=B[0],$=B[1],G=Object(c.useState)(),V=Object(j.a)(G,2),Z=(V[0],V[1],Object(c.useState)(0)),ee=Object(j.a)(Z,2),te=ee[0],ne=ee[1],ce=Object(c.useState)(0),ie=Object(j.a)(ce,2),se=ie[0],ae=ie[1],re=Object(c.useState)(),oe=Object(j.a)(re,2),le=oe[0],de=oe[1],ue=Object(c.useState)(!1),je=Object(j.a)(ue,2),he=(je[0],je[1],Object(c.useState)(!1)),be=Object(j.a)(he,2),fe=(be[0],be[1],Object(c.useState)(!1)),pe=Object(j.a)(fe,2),Oe=(pe[0],pe[1],Object(c.useState)()),xe=Object(j.a)(Oe,2),ge=xe[0],me=xe[1],ve=Object(c.useState)(),ye=Object(j.a)(ve,2),ke=ye[0],we=ye[1],Se=Object(c.useState)(),_e=Object(j.a)(Se,2),Ne=_e[0],ze=_e[1],Ce=Object(c.useRef)(!1),Ie=Object(c.useRef)(!1),Re=Object(c.useRef)(!1),De=z()(),Me=Object(c.useState)([]),Ae=Object(j.a)(Me,2),Fe=Ae[0],Pe=Ae[1];Object(c.useEffect)((function(){return De.listen((function(e){"PUSH"===De.action&&Pe([e.key]),"POP"===De.action&&(Fe[1]===e.key?(Pe((function(e){var t=Object(u.a)(e);t[0];return t.slice(1)})),window.location.reload()):(Pe((function(t){return[e.key].concat(Object(d.a)(t))})),window.location.reload()))}))}),[Fe]),Object(c.useEffect)((function(){var e=window.localStorage.getItem("API");e&&$(e)}),[]),Object(c.useEffect)((function(){window.localStorage.setItem("API",Y)}));var Te=Object(c.useRef)(null),qe=function(e){var t,n=new URLSearchParams(e),c={},i=Object(l.a)(n.keys());try{for(i.s();!(t=i.n()).done;){var s=t.value;n.getAll(s).length>1?c[s]=n.getAll(s):c[s]=n.get(s)}}catch(a){i.e(a)}finally{i.f()}return c}(window.location.search);qe.before&&!/^\d+$/.test(qe.before)&&(qe.before=Math.floor(new Date(qe.before).getTime()/1e3)),qe.size>100&&(qe.size=100);var Ee,Le=encodeURIComponent,We=Object.keys(qe).map((function(e){return Le(e)+"="+Le(qe[e])})).join("&");Ee="any"!=qe.type&&"Any"!=qe.type&&qe.type?qe.type?qe.type.toLowerCase().slice(0,-1).split(" "):"":["submission","comment"];var Ke=(qe.before,"");function Ue(e){return We.replace(/^[^?]+\?/,""),"https://archivesort.org/discuss/reddit/miser?type=".concat(e,"&").concat(We)}function He(e,t){return We.replace(/^[^?]+\?/,""),"https://api.pushshift.io/reddit/search/".concat(e,"/?").concat(We).concat(t?"&before=".concat(t):"","&html_decode=true")}var Je=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function Xe(){return(Xe=Object(o.a)(r.a.mark((function t(){var n,c,i,a,o,l,d,u,j,h,b,f,p,O,x,g,m,v,y;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n=[],c=[],i=s.size/100,a=i.toString().split(".")[0],o=parseInt(a,10),l=0,d=i.toString().split(".")[1]?i.toString().split(".")[1]:"",u=parseFloat(d.length>1?d:d+"0",10),j=u,console.log(j),1!==Ee.length){t.next=36;break}console.log(l,o,s.size),h=r.a.mark((function e(){var t,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>0&&(Ke=n.slice(-1)[0]),console.info("fetching pushshift > 100"),ne((function(e){return e+1})),e.next=5,fetch(He(Ee[0],Ke));case 5:return t=e.sent,console.info(t.url),e.next=9,t.json();case 9:if(0!==(i=e.sent).data.length){e.next=19;break}if(0!==c.length){e.next=18;break}return console.info("break"),me("No Results"),Te.current.style.display="block",e.abrupt("return","break");case 18:return e.abrupt("return","break");case 19:return i.data.length>0&&ae((function(e){return e+i.data.length})),n.push(i.data.slice(-1)[0].created_utc),c.push(i.data),l+=1,console.info("cooldown between request"),e.next=26,Je(1500);case 26:case"end":return e.stop()}}),e)}));case 14:if(l===o){t.next=21;break}return t.delegateYield(h(),"t0",16);case 16:if("break"!==t.t0){t.next=19;break}return t.abrupt("break",21);case 19:t.next=14;break;case 21:if(!j||1!=Ee.length){t.next=34;break}return console.info("fetching rest of data"),ne((function(e){return e+1})),Ke=n.slice(-1)[0],t.next=27,fetch("https://api.pushshift.io/reddit/search/".concat(Ee[0],"/?").concat(We.replace(/size=\d+/,"size=".concat(j))).concat(Ke?"&before=".concat(Ke):"","&html_decode=true"));case 27:return b=t.sent,console.info(b.url),t.next=31,b.json();case 31:f=t.sent,ae((function(e){return e+f.data.length})),c.push(f.data);case 34:t.next=68;break;case 36:if(!(Ee.length>1)){t.next=68;break}console.log(l,o,s.size),p=r.a.mark((function t(){var i,s,a,o,d,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.length>0&&(Ke=n.slice(-1)[0]),console.info("fetching pushshift > 100"),ne((function(e){return e+1})),t.next=5,fetch(He("submission",qe.before?"":Ke));case 5:return i=t.sent,t.next=8,fetch(He("comment",qe.before?"":Ke));case 8:if(404!==(s=t.sent).status){t.next=11;break}throw new e.AbortError(s.statusText);case 11:return console.info(s.url),console.info(i.url),t.next=15,s.json();case 15:return a=t.sent,t.next=18,i.json();case 18:if(o=t.sent,d=o?o.data.concat(a.data):"",u=d?d.sort((function(e,t){return t.created_utc-e.created_utc})):"",0!==a.data.length||0!==o.data.length){t.next=30;break}if(0!==c.length){t.next=29;break}return console.info("break"),me("No Results"),Te.current.style.display="block",t.abrupt("return","break");case 29:return t.abrupt("return","break");case 30:return u&&(c.push(u),n.push(u.slice(-1)[0].created_utc),ae((function(e){return e+u.length}))),l+=1,console.info("cooldown between request"),t.next=35,Je(1500);case 35:case"end":return t.stop()}}),t)}));case 39:if(l===o){t.next=46;break}return t.delegateYield(p(),"t1",41);case 41:if("break"!==t.t1){t.next=44;break}return t.abrupt("break",46);case 44:t.next=39;break;case 46:if(!(j&&Ee.length>1)){t.next=68;break}return console.info("fetching rest of data"),ne((function(e){return e+1})),Ke=n.slice(-1)[0],t.next=52,fetch("https://api.pushshift.io/reddit/search/submission/?".concat(We.replace(/size=\d+/,"size=".concat(j))).concat(Ke?"&before=".concat(Ke):"","&html_decode=true"));case 52:return O=t.sent,t.next=55,fetch("https://api.pushshift.io/reddit/search/comment/?".concat(We.replace(/size=\d+/,"size=".concat(j))).concat(Ke?"&before=".concat(Ke):"","&html_decode=true"));case 55:return x=t.sent,console.info(O.url),console.info(x.url),t.next=60,x.json();case 60:return g=t.sent,t.next=63,O.json();case 63:m=t.sent,v=m?m.data.concat(g.data):"",y=v?v.sort((function(e,t){return t.created_utc-e.created_utc})):"",ae((function(e){return e+y.length})),c.push(y);case 68:de(c.concat.apply([],c)),n.length=0,c.length=0,t.next=76;break;case 73:t.prev=73,t.t2=t.catch(0),console.error(t.t2);case 76:case"end":return t.stop()}}),t,null,[[0,73]])})))).apply(this,arguments)}var Qe=function(){try{R||x([!1]),s.size<=100?Promise.all(Ee.map((function(e){return fetch(He(e,Ke)).then((function(e){return console.info(e.url),console.info("fetching <= 100"),ne(te+1),e.json()}))}))).then((function(e){1==Ee.length?(de(e[0].data),0===e[0].data.length?(me("No Results"),Te.current.style.display="block"):Te.current.style.display="none",ae((function(t){return t+e[0].data.length}))):Promise.all([].concat(Object(d.a)(e[0].data),Object(d.a)(e[1].data))).then((function(e){e.sort((function(e,t){return new Date(t.created_utc)-new Date(e.created_utc)})),0===e.length?(me("No Results"),Te.current.style.display="block"):Te.current.style.display="none",ae((function(t){return t+e.length})),de(e)}))})):s.size>100&&function(){Xe.apply(this,arguments)}()}catch(e){console.log(e)}},Be=function(){try{var e;x([!1]);for(var t=[],n=0;n<Ee.length;n++)e=Ee[n]+="s",t.push(e);Promise.all(t.map((function(e){return fetch(Ue(e)).then((function(e){return console.info(e.url),e.json()}))}))).then((function(e){1==t.length?x(e[0].data):Promise.all([].concat(Object(d.a)(e[0].data),Object(d.a)(e[1].data))).then((function(e){e.sort((function(e,t){return new Date(t.created_utc)-new Date(e.created_utc)})),0===e.length?(me("No Results"),Te.current.style.display="block"):Te.current.style.display="none",console.info(e,"ITWOR"),x(e)}))}))}catch(c){console.log(c)}},Ye=function(){try{for(var e,t=[],n=0;n<Ee.length;n++)e=Ee[n]+="s",t.push(e);Promise.all(Ee.map((function(e){return fetch(Ue(e)).then((function(e){return console.log(e.url),e.json()}))}))).then((function(e){1==t.length?x((function(t){return[].concat(Object(d.a)(t),Object(d.a)(e[0].data))})):Promise.all([].concat(Object(d.a)(e[0].data),Object(d.a)(e[1].data))).then((function(e){e.sort((function(e,t){return new Date(t.created_utc)-new Date(e.created_utc)})),x((function(t){return[].concat(Object(d.a)(t),Object(d.a)(e))})),we(!1)}))}))}catch(c){console.log(c)}};function $e(e,t){var n=(e.getTime()-t.getTime())/1e3;return n/=3600,Math.abs(Math.round(n))}var Ge={tokenAuth:function(){var e=Object(o.a)(r.a.mark((function e(){var t,n,c,i,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("hiXFGUDKexlKL2LKEoyK6g","PiXF-PgFhhX1dRk57ha_-dvDdQwYwg",t=!!window.sessionStorage.getItem("reddit_access_token")&&JSON.parse(window.sessionStorage.getItem("reddit_access_token")),n=new Date,t&&!($e(new Date(t.retrieved_at),new Date(n))>=1)){e.next=16;break}return console.info("fetching a reddit access token > valid for 3600"),e.next=8,fetch("https://www.reddit.com/api/v1/access_token",{method:"post",headers:{Authorization:"Basic "+btoa("".concat("hiXFGUDKexlKL2LKEoyK6g",":").concat("PiXF-PgFhhX1dRk57ha_-dvDdQwYwg")),"Content-Type":"application/x-www-form-urlencoded"},body:"grant_type=https://oauth.reddit.com/grants/installed_client&device_id=DO_NOT_TRACK_THIS_DEVICE"});case 8:return c=e.sent,console.info(c.url),e.next=12,c.json();case 12:(i=e.sent).access_token?(s=new Date,i.retrieved_at=s,window.sessionStorage.setItem("reddit_access_token",JSON.stringify(i)),console.log(i.access_token,"TOKEN")):console.error("4xx error access token not recieved"),e.next=17;break;case 16:console.info("Using access token from sessionStorage");case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),syncData:function(){var e=[];for(var t in le)le[t].domain?e.push("t3_".concat(le[t].id)):e.push("t1_".concat(le[t].id));e.join(",");for(var n=[],c=0;c<e.length;c+=100){var i=e.slice(c,c+100);n.push(i)}try{if(JSON.parse(window.sessionStorage.getItem("reddit_access_token"))&&le){var s=JSON.parse(window.sessionStorage.getItem("reddit_access_token")).access_token;Promise.all(n.map((function(e){return fetch("https://oauth.reddit.com/api/info?id=".concat(e.join(",")),{headers:{Authorization:"Bearer "+s}}).then((function(e){return e.json()}))}))).then((function(t){if(le){for(var n=0;n<t.length;n++){var c=t[n].data.children;for(var i in le)for(var s in c)le[i].id===c[s].data.id&&(le[i].upvote_ratio=c[s].data.upvote_ratio,le[i].kind=c[s].kind,"[deleted]"===c[s].data.author&&"[deleted]"===c[s].data.body||"[deleted]"===c[s].data.author&&"[deleted]"===c[s].data.selftext?le[i].is_deleted="deleted":"[removed]"!==c[s].data.body&&"[removed]"!==c[s].data.selftext||(le[i].is_deleted="removed"));console.info("synced with reddit"),e.length=0}R?R&&(console.log("mere"),x((function(e){return[].concat(Object(d.a)(e),Object(d.a)(le))}))):(x(le),H(!0))}})),0===le.length&&H(!0)}}catch(a){console.log(a)}}};v||"Miser"===Y||(Qe(),Ge.tokenAuth(),N(!0),Te.current.style.display="none"),Object(c.useEffect)((function(){var e=!1;(le&&!e||R)&&(Ge.syncData(),e=!0)}),[le]),v||"Miser"!==Y||(Be(),N(!0),Te.current.style.display="none"),Object(c.useEffect)((function(){if(R&&"Miser"!==Y)if(s.size<f.length)s.size+=25,D(!1),we(!1);else if(s.size===f.length||s.size>f.length){var e=f.slice(-1)[0].created_utc;Ke=e,console.log(We),Qe(),we(!0)}if(R&&"Miser"===Y)if(s.size<f.length)s.size+=25,D(!1),we(!1);else if(s.size===f.length){var t=f.slice(-1)[0].created_utc;qe.before?qe.before=t:We+="&before="+t,console.log(We),Ye(),we(!0)}}),[R,f]);var Ve=0;return Ve=1!==f.length||f[0]?f.length<s.size?f.length:s.size:0,Object(c.useEffect)((function(){"light"===localStorage.getItem("theme")?(Ie.current.checked=!0,ze(!0)):(Ie.current.checked=!1,ze(!1))})),Object(c.useEffect)((function(){Ne?document.body.classList.add("light-mode"):document.body.classList.remove("light-mode")}),[Ne]),console.log(f),Object(p.jsxs)(S.a,{basename:"",forceRefresh:!0,children:[Object(p.jsxs)("div",{className:"App",children:[Object(p.jsxs)("div",{id:"logo-parent",children:[Object(p.jsxs)("div",{id:"logo",children:[Object(p.jsxs)(S.b,{to:"/",activeClassName:"none",exact:!0,children:[Object(p.jsxs)("h1",{id:"logo-text",children:[Object(p.jsx)("i",{className:"fa fa-reddit-alien",id:"icon","aria-hidden":"true"})," ","Reddit Search Tool ",Object(p.jsx)("br",{})," "]})," "]}),Object(p.jsxs)("h2",{id:"pushift-descript",children:[Object(p.jsx)("a",{className:Ne?"light-pushift":"",href:"https://pushshift.io/",target:"_blank",children:"Utilizing Pushift.io"})," "]})," "]})," "]})," ",Object(p.jsxs)("header",{children:[" ",Object(p.jsxs)("nav",{children:[" ",Object(p.jsxs)("div",{className:"container",children:[Object(p.jsxs)("ul",{children:[" ",Object(p.jsx)("li",{children:Object(p.jsx)(S.b,{to:"/",activeClassName:"active",className:"non-active",exact:!0,children:"Home"})}),Object(p.jsx)("li",{children:Object(p.jsx)(S.b,{to:"/about",activeClassName:"active",className:"non-active",children:"About"})}),Object(p.jsx)("li",{children:Object(p.jsx)(S.b,{to:"/settings",activeClassName:"active",className:"non-active",children:"Settings"})})]})," ",Object(p.jsx)("div",{id:"container-parent",children:Object(p.jsxs)("label",{id:"switch",className:"switch",children:[Object(p.jsx)("input",{type:"checkbox",id:"slider",onChange:function(e){var t="";e.target.checked?(t="light",ze(!0)):(t="dark",ze(!1)),localStorage.setItem("theme",t)},ref:Ie}),Object(p.jsx)("span",{className:"slider round"})]})})]})]})]}),Object(p.jsxs)(_.c,{children:[" ",Object(p.jsxs)(_.a,{path:"/",exact:!0,render:!0,children:[Object(p.jsx)("div",{id:"search-form",children:Object(p.jsx)("div",{id:"form-wrapper",children:Object(p.jsx)(O,{minimize:F,setSearch:N,search:v,updateData:a,setMinimize:P,showResults:Ce,showFava:Re,changeQuerySize:function(){P(!0),F&&P(!1)},toggleInput:Ne,setApi:$,apis:Y,syncingData:U})})}),Object(p.jsx)("div",{id:"items-parent",ref:Re,children:Object(p.jsx)("div",{children:Object(p.jsx)(y,{api:f,query:s.query,minimizeR:E,errorMessage:ge,error:Te,data:a,setMore:D,showResults:Ce,size:s.size,loadingMessage:ke,searchTerm:s.q,changeResultsSize:function(){L(!0),E&&L(!1)},resultAmt:Ve,toggleInput:Ne,syncingData:U,requests:te,itemCount:se})})})]})," ",Object(p.jsx)(_.a,{path:"/about",children:Object(p.jsx)("div",{children:Object(p.jsx)(k,{})})}),Object(p.jsxs)(_.a,{path:"/settings",children:[" ",Object(p.jsx)("div",{children:Object(p.jsx)(w,{})})]})]})]})," "]})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,232)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),s(e),a(e)}))};s.a.render(Object(p.jsx)(C,{}),document.getElementById("root")),I()},98:function(e,t,n){},99:function(e,t,n){}},[[230,1,2]]]);
//# sourceMappingURL=main.c2732cb8.chunk.js.map