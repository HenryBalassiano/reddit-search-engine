(this.webpackJsonpreddit=this.webpackJsonpreddit||[]).push([[0],{169:function(e,t,r){},170:function(e,t,r){},176:function(e,t,r){"use strict";r.r(t);var c=r(1),s=r(20),a=r.n(s),n=r(38),i=r.n(n),d=r(69),l=r(13),j=(r(80),r(9)),o=r(70),u=(r(81),r(39)),b=r.n(u),h=(r(82),r(0));var O=function(e){var t=e.updateData,r=e.setSearch,s=e.minimize,a=e.setMinimize,n=e.search,i=e.showResults,d=e.showFava,u=function(e){var t,r=new URLSearchParams(e),c={},s=Object(o.a)(r.keys());try{for(s.s();!(t=s.n()).done;){var a=t.value;r.getAll(a).length>1?c[a]=r.getAll(a):c[a]=r.get(a)}}catch(n){s.e(n)}finally{s.f()}return c}(window.location.search),O=Object(c.useState)({username:u.username?u.username:"",subreddit:u.subreddit?u.subreddit:"",query:u.query?u.query:"",numReturned:u.numReturned?u.numReturned:"",score:u.score?u.score:"",before:u.before?u.before:"",after:u.after?u.after:"",searchTerm:u.searchTerm?u.searchTerm:""}),p=Object(l.a)(O,2),f=p[0],m=p[1];function x(e,t,r){var c="",s=e.split("?"),a=s[0],n=s[1],i="";if(n){s=n.split("&");for(var d=0;d<s.length;d++)s[d].split("=")[0]!=t&&(c+=i+s[d],i="&")}return a+"?"+c+(i+""+t+"="+r)}var v=x(window.location.href,"locId","newLoc");v=x(v,"resId","newResId"),Object(c.useEffect)((function(){})),console.log(n);var w=Object(c.useRef)();return Object(h.jsx)("div",{id:"form-".concat(s?"hover":"parent"),children:Object(h.jsxs)("form",{onSubmit:function(e){t(f),e.preventDefault(),r(!1),a(!0),d.current.style.display="flex",i.current.style.display="block";var c=[];for(var s in f)for(var n in f){f.hasOwnProperty(n)&&"function"!==typeof f[n]&&c.push(n);var l=f[s];l&&window.history.replaceState("","",x(window.location.href,s,l))}},class:"form-".concat(s?"minimize":"maximize"),ref:w,children:[Object(h.jsxs)("div",{id:"row-1",children:[Object(h.jsxs)("div",{className:"row-wrapper",children:[Object(h.jsx)("label",{children:"username"}),Object(h.jsx)("input",{value:f.username,placeholder:"Username",type:"text",onChange:function(e){m(Object(j.a)(Object(j.a)({},f),{},{username:e.target.value}))},id:"username-input"})," "]}),Object(h.jsxs)("div",{className:"row-wrapper",children:[Object(h.jsx)("label",{children:"subreddit"}),Object(h.jsx)("input",{value:f.subreddit,placeholder:"Subreddit",type:"text",onChange:function(e){m(Object(j.a)(Object(j.a)({},f),{},{subreddit:e.target.value}))},id:"subreddit-input"})," "]}),Object(h.jsxs)("div",{className:"row-wrapper",children:[Object(h.jsx)("label",{id:"search-for-input",children:"search for"}),Object(h.jsxs)("select",{onChange:function(e){m(Object(j.a)(Object(j.a)({},f),{},{query:e.target.value}))},children:[Object(h.jsx)("option",{children:"Comments"}),Object(h.jsx)("option",{children:"Submissions"})]})," "]})]}),Object(h.jsxs)("div",{id:"row-2",children:[Object(h.jsx)("div",{id:"num-input",children:Object(h.jsxs)("div",{id:"score-input",children:[Object(h.jsxs)("div",{className:"row-wrapper",children:[Object(h.jsx)("label",{children:"score"}),Object(h.jsx)("input",{placeholder:"Score",type:"number",id:"score-input-box",min:"25",step:"25",value:f.score,onChange:function(e){m(Object(j.a)(Object(j.a)({},f),{},{score:e.target.value}))}})," "]})," "]})}),Object(h.jsxs)("div",{className:"row-wrapper",children:[Object(h.jsxs)("div",{id:"before-input",children:[Object(h.jsx)("label",{children:"before"}),Object(h.jsx)(b.a,{popperProps:{positionFixed:!0},value:f.before,selected:f.before,onChange:function(e){m(Object(j.a)(Object(j.a)({},f),{},{before:e}))}})," ",Object(h.jsx)("span",{class:"fa fa-calendar-o"})]})," "]}),Object(h.jsx)("div",{className:"row-wrapper",children:Object(h.jsxs)("div",{id:"after-input",children:[Object(h.jsx)("label",{children:"after"}),Object(h.jsx)(b.a,{popperProps:{positionFixed:!0},type:"text",selected:f.after,onChange:function(e){return m(Object(j.a)(Object(j.a)({},f),{},{after:e}))}})," ",Object(h.jsx)("span",{class:"fa fa-calendar-o"})]})})]})," ",Object(h.jsxs)("div",{id:"row-3",children:[Object(h.jsx)("div",{id:"search-term-input",children:Object(h.jsxs)("div",{className:"row-wrapper",children:[Object(h.jsx)("label",{children:"keywords"}),Object(h.jsx)("input",{value:f.searchTerm,placeholder:"Keywords",type:"text",onChange:function(e){m(Object(j.a)(Object(j.a)({},f),{},{searchTerm:e.target.value}))}})," "]})}),Object(h.jsxs)("div",{className:"row-wrapper",children:[Object(h.jsx)("label",{children:"amount returned"}),Object(h.jsx)("input",{placeholder:"Size",onChange:function(e){m(Object(j.a)(Object(j.a)({},f),{},{numReturned:e.target.value}))},value:f.numReturned,type:"number",min:"25",step:"25",max:"100",id:"amnt-ret"})," "]})]}),Object(h.jsx)("div",{id:"row-4",children:Object(h.jsx)("div",{id:"seach-btn",children:Object(h.jsxs)("div",{className:"row-wrapper",children:[Object(h.jsx)("input",{id:"search-btn",value:"Search",type:"submit"})," "]})})})]})})};r(169),r(170);var p=function(){return Object(h.jsx)("div",{id:"loader-parent",children:Object(h.jsx)("div",{id:"loading"})})};var f=function(e){var t=e.api,r=e.query,s=e.errorMessage,a=e.error,n=(e.data,e.setMore,e.minimizeR),i=e.showResults,d=Object(c.useRef)(!1);return Object(c.useRef)(),Object(c.useRef)(),console.log(t),Object(h.jsxs)("div",{id:"item-".concat(n?"hover":"parent"),ref:i,children:[Object(h.jsxs)("h1",{ref:a,children:[" ",s," \ud83d\ude22 "]}),t.map((function(e,c){var s,a=new Date(1e3*e.created_utc).toString(),i={Jan:"1",Feb:"2",Mar:"3",Apr:"4",May:"5",Jun:"6",Jul:"7",Aug:"8",Sep:"9",Oct:"10",Nov:"11",Dec:"12"}[a.slice(4,7)];if(!e)return Object(h.jsx)(p,{},c);s=e.permalink?e.permalink:"/comments/".concat(e.link_id.split("_")[1],"/_/").concat(e.id);var l=i+"/"+a.slice(8,10)+"/"+a.slice(11,15);return t.length>0&&d?Object(h.jsxs)("div",{className:"parent",id:"results-".concat(n?"minimize":"maximize"),children:[Object(h.jsxs)("div",{id:"left-panel",children:[" ","Submissions"===r?Object(h.jsx)("img",{loading:"lazy",src:e.url}):"",Object(h.jsxs)("span",{children:["/r/",e.subreddit]}),Object(h.jsxs)("span",{children:["/u/",e.author]})]})," ",Object(h.jsx)("div",{id:"right-panel",children:l}),Object(h.jsxs)("div",{id:"child",children:[" ",Object(h.jsxs)("a",{href:e.full_link||"https://reddit.com".concat(s),target:"_blank",rel:"noreferrer",children:[" ",Object(h.jsx)("div",{id:"title",children:e.title}),Object(h.jsxs)("p",{id:"body",children:[e.body,e.selftext]})]})]})]},c):Object(h.jsx)(p,{},c)}))]})},m=r(21),x=r(6);var v=function(){var e=Object(c.useState)({username:!1,subreddit:!1,query:!1,numReturned:!1,score:!1,before:!1,after:!1,searchTerm:!1}),t=Object(l.a)(e,2),r=t[0],s=t[1],a=Object(c.useState)([]),n=Object(l.a)(a,2),j=n[0],o=n[1],u=Object(c.useState)(!0),b=Object(l.a)(u,2),p=b[0],v=b[1],w=Object(c.useState)(!1),g=Object(l.a)(w,2),y=g[0],S=g[1],R=Object(c.useState)(!1),N=Object(l.a)(R,2),C=N[0],k=N[1],q=Object(c.useState)(!1),z=Object(l.a)(q,2),T=z[0],M=z[1],F=Object(c.useState)(!1),_=Object(l.a)(F,2),A=(_[0],_[1],Object(c.useState)(!1)),D=Object(l.a)(A,2),P=(D[0],D[1],Object(c.useState)(!1)),I=Object(l.a)(P,2),J=(I[0],I[1],Object(c.useState)()),L=Object(l.a)(J,2),B=L[0],E=L[1],H=Object(c.useRef)(!1),U=Object(c.useRef)(!1),K=Object(c.useRef)(null),Q="",G="comment",V="",W="",X="";function Y(){return Z.apply(this,arguments)}function Z(){return(Z=Object(d.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o([!1]),e.next=4,fetch("https://api.pushshift.io/reddit/search/".concat(G,"/?").concat(Q).concat(X).concat(W).concat(V));case 4:return t=e.sent,e.next=7,t.json();case 7:0===(r=e.sent).data.length?(E("Hey! That doesn't exist!"),K.current.style.display="block"):K.current.style.display="none",o(r.data),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}if(r.username&&(Q+="author="+r.username+"&"),r.subreddit&&(Q+="subreddit="+r.subreddit+"&"),r.searchTerm&&(Q+="q="+r.searchTerm+"&"),r.numReturned&&(Q+="size="+r.numReturned+"&"),r.query.length>0&&(G=r.query.toLowerCase().slice(0,-1)),r.before&&(W+="before="+Math.floor(r.before.getTime()/1e3)+"&",V=""),r.after&&(X+="after="+Math.floor(r.after.getTime()/1e3)+"&"),r.score&&(Q+="score=>"+r.score+"&"),!1===p&&(Y(),K.current.style.display="none",v(!0)),y){var $=j.slice(-1)[0].created_utc;V+="before="+$+"&",W="",X="",Y(),S(!1)}return Object(h.jsx)(m.a,{children:Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("header",{children:Object(h.jsx)("nav",{children:Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:Object(h.jsx)(m.b,{to:"/",activeClassName:"active",className:"non-active",exact:!0,children:"Home"})}),Object(h.jsx)("li",{children:Object(h.jsx)(m.b,{to:"/about",activeClassName:"active",className:"non-active",exact:!0,children:"About"})}),Object(h.jsx)("li",{children:Object(h.jsx)(m.b,{to:"/settings",activeClassName:"active",className:"non-active",exact:!0,children:"Settings"})})]})})}),Object(h.jsx)("div",{id:"search-form",children:Object(h.jsx)(x.Switch,{children:Object(h.jsxs)(x.Route,{path:"/",exact:!0,render:!0,children:[Object(h.jsxs)("div",{id:"form-wrapper",children:[Object(h.jsx)("div",{className:"panel-header",children:Object(h.jsxs)("h2",{id:"search-min",children:["Search Query"," ",Object(h.jsx)("i",{onClick:function(){k(!0),C&&k(!1)},class:"fa fa-".concat(C?"plus":"minus","-square"),"aria-hidden":"true"})]})}),Object(h.jsx)(O,{minimize:C,setSearch:v,search:p,updateData:s,setMinimize:k,showResults:H,showFava:U})]}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{id:"items-parent",ref:U,children:[Object(h.jsx)("div",{children:Object(h.jsxs)("h2",{id:"results-min",children:["Results"," ",Object(h.jsx)("i",{onClick:function(){M(!0),T&&M(!1)},class:"fa fa-".concat(T?"plus":"minus","-square"),"aria-hidden":"true"})]})}),Object(h.jsx)(f,{api:j,query:r.query,minimizeR:T,errorMessage:B,error:K,data:s,setMore:S,showResults:H})]})]})})})]})})},w=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,178)).then((function(t){var r=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,n=t.getTTFB;r(e),c(e),s(e),a(e),n(e)}))},g=r(74),y=r.n(g);a.a.render(Object(h.jsx)(y.a,{basename:"/reddit-search-tool",children:Object(h.jsx)(v,{})}),document.getElementById("root")),w()},80:function(e,t,r){},81:function(e,t,r){}},[[176,1,2]]]);
//# sourceMappingURL=main.4943dcb1.chunk.js.map