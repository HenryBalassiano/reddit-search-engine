(this.webpackJsonpreddit=this.webpackJsonpreddit||[]).push([[0],{178:function(e,t,n){},179:function(e,t,n){},185:function(e,t,n){},191:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(24),a=n.n(r),s=n(19),i=n.n(s),l=n(33),d=n(16),o=n(78),u=n(10),j=(n(89),n(9)),b=n(79),h=(n(90),n(47)),p=n.n(h),f=(n(91),n(0));var O=function(e){var t=e.updateData,n=e.setSearch,r=e.minimize,a=e.setMinimize,s=(e.search,e.showResults),i=e.showFava,l=function(e){var t,n=new URLSearchParams(e),c={},r=Object(b.a)(n.keys());try{for(r.s();!(t=r.n()).done;){var a=t.value;n.getAll(a).length>1?c[a]=n.getAll(a):c[a]=n.get(a)}}catch(s){r.e(s)}finally{r.f()}return c}(window.location.search),d=Object(c.useState)({username:l.username?l.username:"",subreddit:l.subreddit?l.subreddit:"",query:l.query?l.query:"",numReturned:parseInt(l.numReturned)?parseInt(l.numReturned):25,score:l.score?l.score:"",before:l.before?Math.floor(new Date(l.before).getTime()/1e3*1e3):"",after:l.after?Math.floor(new Date(l.after).getTime()/1e3*1e3):"",searchTerm:l.searchTerm?l.searchTerm:""}),o=Object(u.a)(d,2),h=o[0],O=o[1];function m(e,t,n){t=encodeURIComponent(t),n=encodeURIComponent(n);var c,r=e.split("?")[0],a=t+"="+n,s="?"+a;if(c=void 0===e.split("?")[1]?"":"?"+e.split("?")[1]){var i=new RegExp("([?&])"+t+"=[^&]*"),l=new RegExp("([?&])"+t+"=[^&;]+[&;]?");s=void 0===n||null===n||""===n||"null"===n?(s=c.replace(l,"$1")).replace(/[&;]$/,""):null!==c.match(i)?c.replace(i,"$1"+a):""==c?"?"+a:c+"&"+a}return r+(s="?"===s?"":s)}Object(c.useEffect)((function(){var e=!1;window.location.search&&!e&&(e=!0,t(h),n(!1),a(!0),i.current.style.display="flex",s.current.style.display="block")}),[]),console.log(l);var x=Object(c.useRef)();return Object(f.jsx)("div",{id:"form-".concat(r?"hover":"parent"),children:Object(f.jsx)("div",{id:"form",children:Object(f.jsxs)("form",{onSubmit:function(e){t(h),e.preventDefault(),n(!1),a(!0),i.current.style.display="flex",s.current.style.display="block";var c=[];for(var r in h)for(var l in h){h.hasOwnProperty(l)&&"function"!==typeof h[l]&&c.push(l);var d=h[r];!d&&d||window.history.replaceState("","",m(window.location.href.replace(/[^?=&]+=(&|$)/g,"").replace(/&$/,""),r,d))}},class:"form-".concat(r?"minimize":"maximize"),ref:x,children:[Object(f.jsxs)("div",{id:"row-1",children:[Object(f.jsxs)("div",{className:"row-wrapper",children:[Object(f.jsx)("label",{children:"username"}),Object(f.jsx)("input",{value:h.username,placeholder:"Username",type:"text",onChange:function(e){O(Object(j.a)(Object(j.a)({},h),{},{username:e.target.value}))},id:"username-input"})," "]}),Object(f.jsxs)("div",{className:"row-wrapper",children:[Object(f.jsx)("label",{children:"subreddit"}),Object(f.jsx)("input",{value:h.subreddit,placeholder:"Subreddit",type:"text",onChange:function(e){O(Object(j.a)(Object(j.a)({},h),{},{subreddit:e.target.value}))},id:"subreddit-input"})," "]}),Object(f.jsxs)("div",{className:"row-wrapper",children:[Object(f.jsx)("label",{id:"search-for-input",children:"search for"}),Object(f.jsxs)("select",{onChange:function(e){O(Object(j.a)(Object(j.a)({},h),{},{query:e.target.value}))},children:[" ",Object(f.jsx)("option",{children:"Any"}),Object(f.jsx)("option",{children:"Comments"}),Object(f.jsx)("option",{children:"Submissions"})]})," "]})]}),Object(f.jsxs)("div",{id:"row-2",children:[Object(f.jsx)("div",{id:"num-input",children:Object(f.jsxs)("div",{id:"score-input",children:[Object(f.jsxs)("div",{className:"row-wrapper",children:[Object(f.jsx)("label",{children:"score"}),Object(f.jsx)("input",{placeholder:"Score",type:"number",id:"score-input-box",min:"25",step:"25",value:h.score,onChange:function(e){O(Object(j.a)(Object(j.a)({},h),{},{score:e.target.value}))}})," "]})," "]})}),Object(f.jsxs)("div",{className:"row-wrapper",children:[Object(f.jsxs)("div",{id:"before-input",children:[Object(f.jsx)("label",{children:"before"}),Object(f.jsx)(p.a,{popperProps:{positionFixed:!0},value:h.before,selected:h.before,onChange:function(e){O(Object(j.a)(Object(j.a)({},h),{},{before:e}))}})," ",Object(f.jsx)("span",{class:"fa fa-calendar-o"})]})," "]}),Object(f.jsx)("div",{className:"row-wrapper",children:Object(f.jsxs)("div",{id:"after-input",children:[Object(f.jsx)("label",{children:"after"}),Object(f.jsx)(p.a,{popperProps:{positionFixed:!0},type:"text",selected:h.after,onChange:function(e){return O(Object(j.a)(Object(j.a)({},h),{},{after:e}))}})," ",Object(f.jsx)("span",{class:"fa fa-calendar-o"})]})})]})," ",Object(f.jsxs)("div",{id:"row-3",children:[Object(f.jsx)("div",{id:"search-term-input",children:Object(f.jsxs)("div",{className:"row-wrapper",children:[Object(f.jsx)("label",{children:"Search Terms"}),Object(f.jsx)("input",{value:h.searchTerm,placeholder:"Search Terms",type:"text",onChange:function(e){O(Object(j.a)(Object(j.a)({},h),{},{searchTerm:e.target.value}))}})," "]})}),Object(f.jsxs)("div",{className:"row-wrapper",children:[Object(f.jsx)("label",{children:"amount returned"}),Object(f.jsx)("input",{placeholder:"Size",onChange:function(e){O(Object(j.a)(Object(j.a)({},h),{},{numReturned:parseInt(e.target.value)}))},value:h.numReturned,type:"number",min:"25",step:"25",id:"amnt-ret"})," "]})]}),Object(f.jsx)("div",{id:"row-4",children:Object(f.jsx)("div",{id:"seach-btn",children:Object(f.jsxs)("div",{className:"row-wrapper",children:[Object(f.jsx)("input",{id:"search-btn",value:"Search",type:"submit"})," "]})})})]})})})};n(178),n(179);var m=function(){return Object(f.jsx)("div",{id:"loader-parent",children:Object(f.jsx)("div",{id:"loading"})})},x=n(50),v=n.n(x);var g=function(e){var t=e.api,n=(e.query,e.errorMessage),r=e.error,a=(e.data,e.setMore),s=e.minimizeR,i=e.showResults,l=e.size,d=e.loadingMessage,o=e.searchTerm,u=Object(c.useRef)(!1),j=Object(c.useRef)(!1),b=Object(c.useRef)(!1),h=Object(c.useRef)();return Object(c.useRef)(),Object(f.jsxs)("div",{id:"item-".concat(s?"hover":"parent"),ref:i,children:[Object(f.jsxs)("div",{ref:r,id:"error",children:[" ",n]}),t.slice(0,l).map((function(e,n){var c=new Date(1e3*e.created_utc).toString();var a,i={Jan:"1",Feb:"2",Mar:"3",Apr:"4",May:"5",Jun:"6",Jul:"7",Aug:"8",Sep:"9",Oct:"10",Nov:"11",Dec:"12"}[c.slice(4,7)];if(!e)return h.current.style.display="none",Object(f.jsxs)("div",{id:"loader-wrapper",children:[Object(f.jsx)(m,{},n)," ",Object(f.jsx)("div",{id:"loading-text",children:"Loading \u2022 Results "})," "]});a=e.permalink?e.permalink:"/comments/".concat(e.link_id.split("_")[1],"/_/").concat(e.id);c.slice(8,10),c.slice(11,15);if(t.length>0&&u)return h.current.style.display="block",s&&(h.current.style.display="none"),l>t.length&&(h.current.style.display="none"),0===t.length&&t?r.current.style.display="block":r.current.style.display="none",Object(f.jsx)("div",{className:"parent",id:"results-".concat(s?"minimize":"maximize"),children:Object(f.jsxs)("div",{className:"details",children:[" ",Object(f.jsxs)("div",{className:"image-parent",children:[e.domain?Object(f.jsxs)("div",{id:"image-child",children:["self"!==e.thumbnail&&"default"!==e.thumbnail&&"nsfw"!==e.thumbnail&&"image"!==e.thumbnail&&"spoiler"!==e.thumbnail?Object(f.jsx)("div",{id:"image",style:{backgroundImage:"url(".concat("bmp"===e.url.substring(e.url.length-3)||"jpg"===e.url.substring(e.url.length-3)||"png"===e.url.substring(e.url.length-3)||"gif"===e.url.substring(e.url.length-3)?e.url:e.thumbnail,")")}}):"","default"===e.thumbnail&&"self"===e.domain.slice(0,4)||"self"===e.thumbnail?Object(f.jsx)("div",{id:"self-post",children:Object(f.jsx)("i",{className:"fa fa-file-text-o","aria-hidden":"true"})}):"","nsfw"===e.thumbnail||"spoiler"===e.thumbnail?Object(f.jsx)("div",{id:"nsfw",children:Object(f.jsx)("i",{className:"fa fa-user-secret","aria-hidden":"true"})}):"","self"!==e.domain.slice(0,4)&&"default"===e.thumbnail||"nsfw"!==e.thumbnail&&"image"===e.thumbnail?Object(f.jsx)("div",{id:"link-post",children:Object(f.jsx)("i",{class:"fa fa-link","aria-hidden":"true"})}):""]}):"",Object(f.jsx)("div",{id:"align-vertically",children:Object(f.jsxs)("div",{id:"details-child",children:[Object(f.jsx)(v.a,{mark:o,children:e.title?Object(f.jsxs)("h3",{id:"title",ref:b,children:[Object(f.jsx)("a",{id:"title-anchor",href:e.full_link||"https://reddit.com".concat(a),children:e.title})," ",Object(f.jsxs)("a",{id:"domain",children:["(",e.domain,")"]})]}):""}),Object(f.jsxs)("a",{children:[e.domain?"submitted":"commented"," by "]}),Object(f.jsxs)("a",{className:"author",children:["u/",e.author]}),Object(f.jsxs)("a",{title:new Date(c),children:[" ",function(e){var t=Math.floor((new Date-e)/1e3),n=t/31536e3;return n>1?Math.floor(n)+" years":(n=t/2592e3)>1?Math.floor(n)+" months":(n=t/86400)>1?Math.floor(n)+" days":(n=t/3600)>1?Math.floor(n)+" hours":(n=t/60)>1?Math.floor(n)+" minutes":Math.floor(t)+" seconds"}(new Date(c))," ago in"," "]}),Object(f.jsxs)("a",{className:"subreddit",children:["r/",e.subreddit]}),Object(f.jsx)("div",{id:"upvote",children:Object(f.jsxs)("i",{class:"fa fa-arrow-up","aria-hidden":"true",children:[" ",Object(f.jsx)("span",{id:"score",children:e.score})]})})]})})]}),!(!e.body&&!e.selftext)&&Object(f.jsx)("div",{id:"body-parent",children:Object(f.jsx)(v.a,{mark:o,children:Object(f.jsxs)("p",{id:"body",ref:j,children:[e.body,e.selftext]})})}),Object(f.jsxs)("div",{className:"footer",children:[Object(f.jsx)("div",{id:"view-on-reddit",children:Object(f.jsx)("a",{href:e.full_link||"https://reddit.com".concat(a),target:"_blank",rel:"noreferrer",children:"view on reddit"})}),Object(f.jsx)("div",{id:"view-on-reddit",children:Object(f.jsx)("a",{href:"https://www.removeddit.com".concat(a),target:"_blank",rel:"noreferrer",children:"view on removeddit"})})]})]})},n);h.current.style.display="none"})),Object(f.jsx)("button",{id:"load-more",onClick:function(){a(!0)},ref:h,children:d?"Loading...":"Load More"})]})};n(185);var y=function(){return Object(f.jsx)("div",{children:Object(f.jsx)("h1",{id:"temp",children:"Work In Progress"})})};var w=function(){return Object(f.jsx)("div",{children:Object(f.jsx)("h1",{id:"temp",children:"Work In Progress"})})},R=n(21),k=n(7),S=n(82),N=n.n(S);var C=function(){var e=Object(c.useState)({username:!1,subreddit:!1,query:!1,numReturned:100,score:!1,before:!1,after:!1,searchTerm:!1}),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),s=Object(u.a)(a,2),j=s[0],b=s[1],h=Object(c.useState)(!0),p=Object(u.a)(h,2),m=p[0],x=p[1],v=Object(c.useState)(!1),S=Object(u.a)(v,2),C=S[0],M=S[1],T=Object(c.useState)(!1),D=Object(u.a)(T,2),z=D[0],P=D[1],_=Object(c.useState)(!1),q=Object(u.a)(_,2),A=q[0],I=q[1],F=Object(c.useState)(!1),L=Object(u.a)(F,2),E=(L[0],L[1],Object(c.useState)(!1)),U=Object(u.a)(E,2),J=(U[0],U[1],Object(c.useState)(!1)),$=Object(u.a)(J,2),B=($[0],$[1],Object(c.useState)()),H=Object(u.a)(B,2),W=H[0],Q=H[1],G=Object(c.useState)(),K=Object(u.a)(G,2),V=K[0],X=K[1],Y=Object(c.useRef)(!1),Z=Object(c.useRef)(!1),ee=N()(),te=Object(c.useState)([]),ne=Object(u.a)(te,2),ce=ne[0],re=ne[1];Object(c.useEffect)((function(){return ee.listen((function(e){"PUSH"===ee.action&&re([e.key]),"POP"===ee.action&&(ce[1]===e.key?(re((function(e){var t=Object(o.a)(e);t[0];return t.slice(1)})),window.location.reload()):(re((function(t){return[e.key].concat(Object(d.a)(t))})),window.location.reload()))}))}),[ce]);var ae=Object(c.useRef)(null),se="",ie="Any",le="",de="",oe="";function ue(){return(ue=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b([!1]),e.next=4,fetch("https://api.pushshift.io/reddit/search/".concat(ie,"/?").concat(se).concat(oe).concat(de).concat(le));case 4:return t=e.sent,e.next=7,t.json();case 7:0===(n=e.sent).data.length?(Q("No Results"),ae.current.style.display="block"):ae.current.style.display="none",b(n.data),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),console.log("sb");case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function je(){return(je=Object(l.a)(i.a.mark((function e(){var t,n,c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b([!1]),e.next=4,fetch("https://api.pushshift.io/reddit/search/submission/?".concat(se).concat(oe).concat(de).concat(le));case 4:return t=e.sent,e.next=7,fetch("https://api.pushshift.io/reddit/search/comment/?".concat(se).concat(oe).concat(de).concat(le));case 7:return n=e.sent,e.next=10,t.json();case 10:return c=e.sent,e.next=13,n.json();case 13:r=e.sent,0===c.data.length?(Q("No Results"),ae.current.style.display="block"):ae.current.style.display="none",Promise.all([].concat(Object(d.a)(r.data),Object(d.a)(c.data))).then((function(e){e.sort((function(e,t){return new Date(t.created_utc)>new Date(e.created_utc)?1:-1})),b(e)})),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function be(){return(be=Object(l.a)(i.a.mark((function e(){var t,n,c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.pushshift.io/reddit/search/submission/?".concat(se).concat(oe).concat(de).concat(le));case 3:return t=e.sent,e.next=6,fetch("https://api.pushshift.io/reddit/search/comment/?".concat(se).concat(oe).concat(de).concat(le));case 6:return n=e.sent,e.next=9,t.json();case 9:return c=e.sent,e.next=12,n.json();case 12:r=e.sent,0===c.data.length?(Q("No Results"),ae.current.style.display="block"):ae.current.style.display="none",Promise.all([].concat(Object(d.a)(r.data),Object(d.a)(c.data))).then((function(e){e.sort((function(e,t){return new Date(t.created_utc)>new Date(e.created_utc)?1:-1})),b((function(t){return[].concat(Object(d.a)(t),Object(d.a)(e))}))})),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}n.username&&(se+="author="+n.username.replace(/\s/g,"")+"&"),n.subreddit&&(se+="subreddit="+n.subreddit.replace(/\s/g,"")+"&"),n.searchTerm&&(se+="q="+n.searchTerm.replace(/\s/g,"")+"&"),n.numReturned&&(se+="size="+n.numReturned+"&"),n.query.length>0&&(ie=n.query.toLowerCase().slice(0,-1)),n.before&&(de+="before="+Math.floor(new Date(n.before).getTime()/1e3)+"&",le=""),n.after&&(oe+="after="+Math.floor(new Date(n.after).getTime()/1e3)+"&"),n.score&&(se+="score=>"+n.score+"&"),m||"Any"===ie||"an"===ie?(!m&&"Any"===ie||!m&&"an"===ie)&&(ae.current.style.display="none",function(){je.apply(this,arguments)}(),x(!0)):(!function(){ue.apply(this,arguments)}(),ae.current.style.display="none",x(!0)),Object(c.useEffect)((function(){if(C)if(n.numReturned<j.length)n.numReturned+=25,M(!1),X(!1);else if(n.numReturned===j.length){var e=j.slice(-1)[0].created_utc;le+="before="+e+"&",de="",oe="",function(){be.apply(this,arguments)}(),X(!0)}}));var he=0;function pe(){P(!0),z&&P(!1)}function fe(){I(!0),A&&I(!1)}return he=1!==j.length||j[0]?j.length<n.numReturned?j.length:n.numReturned:0,console.log(C,n.numReturned,j.length,j),Object(f.jsxs)(R.a,{basename:"",forceRefresh:!0,children:[Object(f.jsxs)("div",{className:"App",children:[Object(f.jsxs)("div",{id:"logo-parent",children:[Object(f.jsxs)("div",{id:"logo",children:[Object(f.jsxs)(R.b,{to:"/",activeClassName:"none",exact:!0,children:[Object(f.jsxs)("h1",{id:"logo-text",children:[Object(f.jsx)("i",{class:"fa fa-reddit-alien",id:"icon","aria-hidden":"true"})," ","Reddit Search Tool ",Object(f.jsx)("br",{})," "]})," "]}),Object(f.jsx)("h2",{id:"pushift-descript",children:Object(f.jsx)("a",{href:"https://pushshift.io/",target:"_blank",children:"Utilizing Pushift.io"})})]})," "]})," ",Object(f.jsxs)("header",{children:[" ",Object(f.jsx)("nav",{children:Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{children:Object(f.jsx)(R.b,{to:"/",activeClassName:"active",className:"non-active",exact:!0,children:"Home"})}),Object(f.jsx)("li",{children:Object(f.jsx)(R.b,{to:"/about",activeClassName:"active",className:"non-active",children:"About"})}),Object(f.jsx)("li",{children:Object(f.jsx)(R.b,{to:"/settings",activeClassName:"active",className:"non-active",children:"Settings"})})]})})]}),Object(f.jsxs)(k.c,{children:[" ",Object(f.jsxs)(k.a,{path:"/",exact:!0,render:!0,children:[Object(f.jsx)("div",{id:"search-form",children:Object(f.jsxs)("div",{id:"form-wrapper",children:[Object(f.jsx)("div",{className:"panel-header",children:Object(f.jsxs)("h2",{id:"search-min",onClick:pe,children:["Search Query"," ",Object(f.jsx)("i",{onClick:pe,class:"fa fa-".concat(z?"plus":"minus","-square"),"aria-hidden":"true"})]})}),Object(f.jsx)(O,{minimize:z,setSearch:x,search:m,updateData:r,setMinimize:P,showResults:Y,showFava:Z})]})}),Object(f.jsx)("div",{id:"items-parent",ref:Z,children:Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{id:"results-header",children:Object(f.jsxs)("h2",{id:"results-min",onClick:fe,children:["Results - ",he," ",Object(f.jsx)("i",{onClick:fe,class:"fa fa-".concat(A?"plus":"minus","-square"),"aria-hidden":"true"})]})}),Object(f.jsx)(g,{api:j,query:n.query,minimizeR:A,errorMessage:W,error:ae,data:r,setMore:M,showResults:Y,size:n.numReturned,loadingMessage:V,searchTerm:n.searchTerm})]})})]})," ",Object(f.jsx)(k.a,{path:"/about",children:Object(f.jsx)("div",{children:Object(f.jsx)(y,{})})}),Object(f.jsxs)(k.a,{path:"/settings",children:[" ",Object(f.jsx)("div",{children:Object(f.jsx)(w,{})})]})]})]})," "]})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,193)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};a.a.render(Object(f.jsx)(C,{}),document.getElementById("root")),M()},89:function(e,t,n){},90:function(e,t,n){}},[[191,1,2]]]);
//# sourceMappingURL=main.6a1e4349.chunk.js.map