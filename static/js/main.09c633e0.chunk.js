(this.webpackJsonpreddit=this.webpackJsonpreddit||[]).push([[0],{154:function(e,t,r){},155:function(e,t,r){},156:function(e,t,r){"use strict";r.r(t);var n=r(4),c=r(12),s=r.n(c),a=r(28),i=r.n(a),o=r(57),u=r(8),l=(r(65),r(7)),d=(r(66),r(29)),j=r.n(d),b=(r(67),r(1));var h=function(e){var t=e.updateData,r=e.search,c=Object(n.useState)({username:"",subreddit:"",query:"",numReturned:"",score:"",before:"",after:"",searchTerm:""}),s=Object(u.a)(c,2),a=s[0],i=s[1];return Object(b.jsx)("div",{id:"form-parent",children:Object(b.jsxs)("form",{onSubmit:function(e){t(a),e.preventDefault(),r(!1)},children:[Object(b.jsx)("label",{children:"username"}),Object(b.jsx)("input",{type:"text",onChange:function(e){i(Object(l.a)(Object(l.a)({},a),{},{username:e.target.value}))},id:"username-input"})," ",Object(b.jsx)("label",{children:"subreddit"}),Object(b.jsx)("input",{type:"text",onChange:function(e){i(Object(l.a)(Object(l.a)({},a),{},{subreddit:e.target.value}))},id:"subreddit-input"})," ",Object(b.jsx)("label",{id:"search-for-input",children:"search for"}),Object(b.jsxs)("select",{onChange:function(e){i(Object(l.a)(Object(l.a)({},a),{},{query:e.target.value}))},children:[Object(b.jsx)("option",{children:"Comments"}),Object(b.jsx)("option",{children:"Submissions"})]})," ",Object(b.jsxs)("div",{id:"num-input",children:[Object(b.jsx)("label",{children:"amount returned"}),Object(b.jsx)("input",{onChange:function(e){i(Object(l.a)(Object(l.a)({},a),{},{numReturned:e.target.value}))},type:"number",min:"25",step:"25",max:"100"})," ",Object(b.jsxs)("div",{id:"score-input",children:[Object(b.jsx)("label",{children:"score"}),Object(b.jsx)("input",{type:"number",min:"25",step:"25",onChange:function(e){i(Object(l.a)(Object(l.a)({},a),{},{score:e.target.value}))}})," "]})," "]}),Object(b.jsxs)("div",{id:"after-input",children:[Object(b.jsx)("label",{children:"after"}),Object(b.jsx)(j.a,{selected:a.after,onChange:function(e){return i(Object(l.a)(Object(l.a)({},a),{},{after:e}))}})," "]}),Object(b.jsxs)("div",{id:"before-input",children:[Object(b.jsx)("label",{children:"before"}),Object(b.jsx)(j.a,{value:a.before,selected:a.before,onChange:function(e){i(Object(l.a)(Object(l.a)({},a),{},{before:e}))}})]})," ",Object(b.jsxs)("div",{id:"search-term-input",children:[Object(b.jsx)("label",{children:"keywords"}),Object(b.jsx)("input",{type:"text",onChange:function(e){i(Object(l.a)(Object(l.a)({},a),{},{searchTerm:e.target.value}))}})," "]}),Object(b.jsxs)("div",{id:"seach-btn",children:[Object(b.jsx)("label",{}),Object(b.jsx)("input",{id:"search-btn",value:"Search",type:"submit"})," "]})]})})};r(154),r(155);var O=function(){return Object(b.jsx)("div",{id:"loader-parent",children:Object(b.jsx)("div",{id:"loading"})})};var p=function(e){var t=e.api,r=e.query,c=e.errorMessage,s=e.error,a=(e.data,e.setMore),i=Object(n.useRef)(),o=Object(n.useRef)(),u=Object(n.useRef)();return console.log(t),Object(b.jsxs)("div",{children:[" ",Object(b.jsxs)("h1",{ref:s,children:[" ",c," \ud83d\ude22 "]}),Object(b.jsxs)("h4",{ref:i,children:["-",t.length," results- "]}),Object(b.jsxs)("p",{ref:u,id:"description",children:["Reddit search engine using the"," ",Object(b.jsx)("a",{id:"pushift",href:"https://github.com/pushshift/api",children:"pushift.io API"}),". You can use the search query above to filter out your searches."]}),t.map((function(e,n){var c,s=new Date(1e3*e.created_utc).toString(),a={Jan:"1",Feb:"2",Mar:"3",Apr:"4",May:"5",Jun:"6",Jul:"7",Aug:"8",Sep:"9",Oct:"10",Nov:"11",Dec:"12"}[s.slice(4,7)];if(!e)return i.current.style.display="none",o.current.style.display="none",u.current.style.display="none",Object(b.jsx)(O,{},n);c=e.permalink?e.permalink:"/comments/".concat(e.link_id.split("_")[1],"/_/").concat(e.id);var l=a+"/"+s.slice(8,10)+"/"+s.slice(11,15);return t.length>0?(i.current.style.display="block",o.current.style.display="block",u.current.style.display="none",Object(b.jsxs)("div",{className:"parent",children:[Object(b.jsxs)("div",{id:"left-panel",children:[" ","Submissions"===r?Object(b.jsx)("img",{loading:"lazy",src:e.url}):"",Object(b.jsxs)("span",{children:["/r/",e.subreddit]}),Object(b.jsxs)("span",{children:["/u/",e.author]})]})," ",Object(b.jsx)("div",{id:"right-panel",children:l}),Object(b.jsxs)("div",{id:"child",children:[" ",Object(b.jsxs)("a",{href:e.full_link||"https://reddit.com".concat(c),target:"_blank",rel:"noreferrer",children:[" ",Object(b.jsx)("div",{id:"title",children:e.title}),Object(b.jsxs)("p",{id:"body",children:[e.body,e.selftext]})]})]})," "]},n)):(i.current.style.display="none",o.current.style.display="none",Object(b.jsx)(O,{},n))})),Object(b.jsxs)("div",{id:"more-parent",children:[" ",Object(b.jsx)("input",{ref:o,id:"more",value:"Load More",type:"submit",onClick:function(){a(!0)}})]})]})};var f=function(){var e=Object(n.useState)({username:!1,subreddit:!1,query:!1,numReturned:!1,score:!1,before:!1,after:!1,searchTerm:!1}),t=Object(u.a)(e,2),r=t[0],c=t[1],s=Object(n.useState)([]),a=Object(u.a)(s,2),l=a[0],d=a[1],j=Object(n.useState)(!0),O=Object(u.a)(j,2),f=O[0],x=O[1],m=Object(n.useState)(!1),y=Object(u.a)(m,2),g=y[0],v=y[1],C=Object(n.useState)(),k=Object(u.a)(C,2),S=k[0],M=k[1],L=Object(n.useRef)(null),q="",w="comment",R="",T="",D="";function _(){return F.apply(this,arguments)}function F(){return(F=Object(o.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d([!1]),e.next=4,fetch("https://api.pushshift.io/reddit/search/".concat(w,"/?").concat(q).concat(D).concat(T).concat(R));case 4:return t=e.sent,console.log(t.url),e.next=8,t.json();case 8:0===(r=e.sent).data.length?(M("Hey! That doesn't exist!"),L.current.style.display="block"):L.current.style.display="none",d(r.data),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}if(r.username&&(q+="author="+r.username+"&"),r.subreddit&&(q+="subreddit="+r.subreddit+"&"),r.searchTerm&&(q+="q="+r.searchTerm+"&"),r.numReturned&&(q+="size="+r.numReturned+"&"),r.query.length>0&&(w=r.query.toLowerCase().slice(0,-1)),r.before&&(T+="before="+Math.floor(r.before.getTime()/1e3)+"&",R=""),r.after&&(D+="after="+Math.floor(r.after.getTime()/1e3)+"&"),r.score&&(q+="score=>"+r.score+"&"),!1===f&&(_(),L.current.style.display="none",x(!0)),g){var N=l.slice(-1)[0].created_utc;R+="before="+N+"&",T="",D="",_(),v(!1)}return console.log(D),Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("a",{href:"https://github.com/HenryBalassiano/reddit-search-engine",className:"github-corner","aria-label":"View source on GitHub",children:Object(b.jsxs)("svg",{width:"80",height:"80",viewBox:"0 0 250 250",style:{fill:"#FD6C6C",color:"#fff",position:"absolute",top:0,border:0,right:0},"aria-hidden":"true",children:[Object(b.jsx)("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}),Object(b.jsx)("path",{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor",style:{"transform-origin":"130px 106px"},className:"octo-arm"}),Object(b.jsx)("path",{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor",className:"octo-body"})]})}),Object(b.jsx)(h,{search:x,updateData:c}),Object(b.jsx)("br",{}),Object(b.jsx)(p,{api:l,query:r.query,errorMessage:S,error:L,data:c,setMore:v})]})},x=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,158)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,a=t.getTTFB;r(e),n(e),c(e),s(e),a(e)}))};s.a.render(Object(b.jsx)(f,{}),document.getElementById("root")),x()},65:function(e,t,r){},66:function(e,t,r){}},[[156,1,2]]]);
//# sourceMappingURL=main.09c633e0.chunk.js.map