(this.webpackJsonpreddit=this.webpackJsonpreddit||[]).push([[0],{178:function(e,t,c){},179:function(e,t,c){},185:function(e,t,c){},191:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c(24),s=c.n(r),a=c(19),i=c.n(a),l=c(33),o=c(16),d=c(78),u=c(10),j=(c(89),c(9)),h=c(79),b=(c(90),c(47)),f=c.n(b),p=(c(91),c(0));var O=function(e){var t=e.updateData,c=e.setSearch,r=e.minimize,s=e.setMinimize,a=(e.search,e.showResults),i=e.showFava,l=e.changeQuerySize,o=function(e){var t,c=new URLSearchParams(e),n={},r=Object(h.a)(c.keys());try{for(r.s();!(t=r.n()).done;){var s=t.value;c.getAll(s).length>1?n[s]=c.getAll(s):n[s]=c.get(s)}}catch(a){r.e(a)}finally{r.f()}return n}(window.location.search),d=Object(n.useState)({username:o.username?o.username:"",subreddit:o.subreddit?o.subreddit:"",query:o.query?o.query:"",numReturned:parseInt(o.numReturned)?parseInt(o.numReturned):25,score:o.score?o.score:"",before:o.before?Math.floor(new Date(o.before).getTime()/1e3*1e3):"",after:o.after?Math.floor(new Date(o.after).getTime()/1e3*1e3):"",searchTerm:o.searchTerm?o.searchTerm:""}),b=Object(u.a)(d,2),O=b[0],m=b[1];function x(e,t,c){t=encodeURIComponent(t),c=encodeURIComponent(c);var n,r=e.split("?")[0],s=t+"="+c,a="?"+s;if(n=void 0===e.split("?")[1]?"":"?"+e.split("?")[1]){var i=new RegExp("([?&])"+t+"=[^&]*"),l=new RegExp("([?&])"+t+"=[^&;]+[&;]?");a=void 0===c||null===c||""===c||"null"===c?(a=n.replace(l,"$1")).replace(/[&;]$/,""):null!==n.match(i)?n.replace(i,"$1"+s):""==n?"?"+s:n+"&"+s}return r+(a="?"===a?"":a)}Object(n.useEffect)((function(){var e=!1;window.location.search&&!e&&(e=!0,t(O),c(!1),s(!0),i.current.style.display="flex",a.current.style.display="block")}),[]),console.log(o);var v=Object(n.useRef)();return Object(p.jsxs)("div",{id:"".concat(r?"search-query-minimized":""),children:[" ",Object(p.jsx)("div",{className:"panel-header",children:Object(p.jsxs)("h2",{id:"search-min",onClick:l,children:["Search Query"," ",Object(p.jsx)("i",{onClick:l,class:"fa fa-".concat(r?"plus":"minus","-square"),"aria-hidden":"true"})]})}),Object(p.jsx)("div",{id:"form-".concat(r?"hover":"parent"),onClick:r?l:"",children:Object(p.jsx)("div",{id:"form",children:Object(p.jsxs)("form",{onSubmit:function(e){t(O),e.preventDefault(),c(!1),s(!0),i.current.style.display="flex",a.current.style.display="block";var n=[];for(var r in O)for(var l in O){O.hasOwnProperty(l)&&"function"!==typeof O[l]&&n.push(l);var o=O[r];!o&&o||window.history.replaceState("","",x(window.location.href.replace(/[^?=&]+=(&|$)/g,"").replace(/&$/,""),r,o))}},class:"form-".concat(r?"minimize":"maximize"),ref:v,children:[Object(p.jsxs)("div",{id:"row-1",children:[Object(p.jsxs)("div",{className:"row-wrapper",children:[Object(p.jsx)("label",{children:"username"}),Object(p.jsx)("input",{value:O.username,placeholder:"Username",type:"text",onChange:function(e){m(Object(j.a)(Object(j.a)({},O),{},{username:e.target.value}))},id:"username-input"})," "]}),Object(p.jsxs)("div",{className:"row-wrapper",children:[Object(p.jsx)("label",{children:"subreddit"}),Object(p.jsx)("input",{value:O.subreddit,placeholder:"Subreddit",type:"text",onChange:function(e){m(Object(j.a)(Object(j.a)({},O),{},{subreddit:e.target.value}))},id:"subreddit-input"})," "]}),Object(p.jsxs)("div",{className:"row-wrapper",children:[Object(p.jsx)("label",{id:"search-for-input",children:"search for"}),Object(p.jsxs)("select",{onChange:function(e){m(Object(j.a)(Object(j.a)({},O),{},{query:e.target.value}))},children:[" ",Object(p.jsx)("option",{children:"Any"}),Object(p.jsx)("option",{children:"Comments"}),Object(p.jsx)("option",{children:"Submissions"})]})," "]})]}),Object(p.jsxs)("div",{id:"row-2",children:[Object(p.jsx)("div",{id:"num-input",children:Object(p.jsxs)("div",{id:"score-input",children:[Object(p.jsxs)("div",{className:"row-wrapper",children:[Object(p.jsx)("label",{children:"score"}),Object(p.jsx)("input",{placeholder:"Score",type:"number",id:"score-input-box",min:"25",step:"25",value:O.score,onChange:function(e){m(Object(j.a)(Object(j.a)({},O),{},{score:e.target.value}))}})," "]})," "]})}),Object(p.jsxs)("div",{className:"row-wrapper",children:[Object(p.jsxs)("div",{id:"before-input",children:[Object(p.jsx)("label",{children:"before"}),Object(p.jsx)(f.a,{popperProps:{positionFixed:!0},value:O.before,selected:O.before,onChange:function(e){m(Object(j.a)(Object(j.a)({},O),{},{before:e}))}})," ",Object(p.jsx)("span",{class:"fa fa-calendar-o"})]})," "]}),Object(p.jsx)("div",{className:"row-wrapper",children:Object(p.jsxs)("div",{id:"after-input",children:[Object(p.jsx)("label",{children:"after"}),Object(p.jsx)(f.a,{popperProps:{positionFixed:!0},type:"text",selected:O.after,onChange:function(e){return m(Object(j.a)(Object(j.a)({},O),{},{after:e}))}})," ",Object(p.jsx)("span",{class:"fa fa-calendar-o"})]})})]})," ",Object(p.jsxs)("div",{id:"row-3",children:[Object(p.jsx)("div",{id:"search-term-input",children:Object(p.jsxs)("div",{className:"row-wrapper",children:[Object(p.jsx)("label",{children:"Search Terms"}),Object(p.jsx)("input",{value:O.searchTerm,placeholder:"Search Terms",type:"text",onChange:function(e){m(Object(j.a)(Object(j.a)({},O),{},{searchTerm:e.target.value}))}})," "]})}),Object(p.jsxs)("div",{className:"row-wrapper",children:[Object(p.jsx)("label",{children:"amount returned"}),Object(p.jsx)("input",{placeholder:"Size",onChange:function(e){m(Object(j.a)(Object(j.a)({},O),{},{numReturned:parseInt(e.target.value)}))},value:O.numReturned,type:"number",min:"25",step:"25",id:"amnt-ret"})," "]})]}),Object(p.jsx)("div",{id:"row-4",children:Object(p.jsx)("div",{id:"seach-btn",children:Object(p.jsxs)("div",{className:"row-wrapper",children:[Object(p.jsx)("input",{id:"search-btn",value:"Search",type:"submit"})," "]})})})]})})})]})};c(178),c(179);var m=function(){return Object(p.jsxs)("div",{id:"loader-parent",children:[" ",Object(p.jsx)("i",{className:"fa fa-cog fa-spin",style:{color:"white",display:"block",fontSize:"2em",position:"relative",top:"5px",fontSmooth:"auto"}})]})},x=c(50),v=c.n(x);var g=function(e){var t=e.api,c=(e.query,e.errorMessage),r=e.error,s=(e.data,e.setMore),a=e.minimizeR,i=e.showResults,l=e.size,o=e.loadingMessage,d=e.searchTerm,u=e.changeResultsSize,j=e.resultAmt,h=Object(n.useRef)(!1),b=Object(n.useRef)(!1),f=Object(n.useRef)(!1),O=Object(n.useRef)();return Object(n.useRef)(),Object(p.jsxs)("div",{id:"".concat(a?"results-minimized":""),onClick:a?u:"",children:[Object(p.jsx)("div",{id:"results-header",children:Object(p.jsxs)("h2",{id:"results-min",onClick:u,children:["Results - ",j," ",Object(p.jsx)("i",{onClick:u,class:"fa fa-".concat(a?"plus":"minus","-square"),"aria-hidden":"true"})]})}),Object(p.jsxs)("div",{id:"item-".concat(a?"hover":"parent"),ref:i,children:[Object(p.jsxs)("div",{ref:r,id:"error",children:[" ",c]}),t.slice(0,l).map((function(e,c){var n=new Date(1e3*e.created_utc).toString();var s,i={Jan:"1",Feb:"2",Mar:"3",Apr:"4",May:"5",Jun:"6",Jul:"7",Aug:"8",Sep:"9",Oct:"10",Nov:"11",Dec:"12"}[n.slice(4,7)];if(!e)return O.current.style.display="none",Object(p.jsxs)("div",{id:"loader-wrapper",children:[Object(p.jsx)(m,{},c)," ",Object(p.jsx)("div",{id:"loading-text",children:"Loading \u2022 Results "})," "]});s=e.permalink?e.permalink:"/comments/".concat(e.link_id.split("_")[1],"/_/").concat(e.id);n.slice(8,10),n.slice(11,15);if(t.length>0&&h)return O.current.style.display="block",a&&(O.current.style.display="none"),l>t.length&&(O.current.style.display="none"),0===t.length&&t?r.current.style.display="block":r.current.style.display="none",Object(p.jsx)("div",{className:"parent",id:"results-".concat(a?"minimize":"maximize"),children:Object(p.jsxs)("div",{className:"details",children:[" ",Object(p.jsxs)("div",{className:"image-parent",children:[e.domain?Object(p.jsxs)("div",{id:"image-child",children:["self"!==e.thumbnail&&"default"!==e.thumbnail&&"nsfw"!==e.thumbnail&&"image"!==e.thumbnail&&"spoiler"!==e.thumbnail?Object(p.jsx)("div",{id:"image",style:{backgroundImage:"url(".concat("bmp"===e.url.substring(e.url.length-3)||"jpg"===e.url.substring(e.url.length-3)||"png"===e.url.substring(e.url.length-3)||"gif"===e.url.substring(e.url.length-3)?e.url:e.thumbnail,")")}}):"","default"===e.thumbnail&&"self"===e.domain.slice(0,4)||"self"===e.thumbnail?Object(p.jsx)("div",{id:"self-post",children:Object(p.jsx)("i",{className:"fa fa-file-text-o","aria-hidden":"true"})}):"","nsfw"===e.thumbnail||"spoiler"===e.thumbnail?Object(p.jsx)("div",{id:"nsfw",children:Object(p.jsx)("i",{className:"fa fa-user-secret","aria-hidden":"true"})}):"","self"!==e.domain.slice(0,4)&&"default"===e.thumbnail||"nsfw"!==e.thumbnail&&"image"===e.thumbnail?Object(p.jsx)("div",{id:"link-post",children:Object(p.jsx)("i",{class:"fa fa-link","aria-hidden":"true"})}):""]}):"",Object(p.jsx)("div",{id:"align-vertically",children:Object(p.jsxs)("div",{id:"details-child",children:[Object(p.jsx)(v.a,{mark:d,children:e.title?Object(p.jsxs)("h3",{id:"title",ref:f,children:[Object(p.jsx)("a",{id:"title-anchor",href:e.full_link||"https://reddit.com".concat(s),children:e.title})," ",Object(p.jsxs)("a",{id:"domain",children:["(",e.domain,")"]})]}):""}),Object(p.jsxs)("a",{children:[e.domain?"submitted":"commented"," by "]}),Object(p.jsxs)("a",{className:"author",children:["u/",e.author]}),Object(p.jsxs)("a",{title:new Date(n),children:[" ",function(e){var t=Math.floor((new Date-e)/1e3),c=t/31536e3;return c>1?Math.floor(c)+" years":(c=t/2592e3)>1?Math.floor(c)+" months":(c=t/86400)>1?Math.floor(c)+" days":(c=t/3600)>1?Math.floor(c)+" hours":(c=t/60)>1?Math.floor(c)+" minutes":Math.floor(t)+" seconds"}(new Date(n))," ago in"," "]}),Object(p.jsxs)("a",{className:"subreddit",children:["r/",e.subreddit]}),Object(p.jsx)("div",{id:"upvote",children:Object(p.jsxs)("i",{class:"fa fa-arrow-up","aria-hidden":"true",children:[" ",Object(p.jsx)("span",{id:"score",children:e.score})]})})]})})]}),!(!e.body&&!e.selftext)&&Object(p.jsx)("div",{id:"body-parent",children:Object(p.jsx)(v.a,{mark:d,children:Object(p.jsxs)("p",{id:"body",ref:b,children:[e.body,e.selftext]})})}),Object(p.jsxs)("div",{className:"footer",children:[Object(p.jsx)("div",{id:"view-on-reddit",children:Object(p.jsx)("a",{href:e.full_link||"https://reddit.com".concat(s),target:"_blank",rel:"noreferrer",children:"view on reddit"})}),Object(p.jsx)("div",{id:"view-on-reddit",children:Object(p.jsx)("a",{href:"https://www.removeddit.com".concat(s),target:"_blank",rel:"noreferrer",children:"view on removeddit"})})]})]})},c);O.current.style.display="none"})),Object(p.jsx)("button",{id:"load-more",onClick:function(){s(!0)},ref:O,children:o?"Loading...":"Load More"})]})]})};c(185);var y=function(){return Object(p.jsx)("div",{children:Object(p.jsx)("h1",{id:"temp",children:"Work In Progress"})})};var w=function(){return Object(p.jsx)("div",{children:Object(p.jsx)("h1",{id:"temp",children:"Work In Progress"})})},k=c(21),R=c(7),S=c(82),N=c.n(S);var C=function(){var e=Object(n.useState)({username:!1,subreddit:!1,query:!1,numReturned:100,score:!1,before:!1,after:!1,searchTerm:!1}),t=Object(u.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)([]),a=Object(u.a)(s,2),j=a[0],h=a[1],b=Object(n.useState)(!0),f=Object(u.a)(b,2),m=f[0],x=f[1],v=Object(n.useState)(!1),S=Object(u.a)(v,2),C=S[0],z=S[1],M=Object(n.useState)(!1),T=Object(u.a)(M,2),D=T[0],q=T[1],P=Object(n.useState)(!1),_=Object(u.a)(P,2),A=_[0],I=_[1],F=Object(n.useState)(!1),L=Object(u.a)(F,2),E=(L[0],L[1],Object(n.useState)(!1)),U=Object(u.a)(E,2),J=(U[0],U[1],Object(n.useState)(!1)),$=Object(u.a)(J,2),Q=($[0],$[1],Object(n.useState)()),B=Object(u.a)(Q,2),H=B[0],W=B[1],G=Object(n.useState)(),K=Object(u.a)(G,2),V=K[0],X=K[1],Y=Object(n.useState)(),Z=Object(u.a)(Y,2),ee=Z[0],te=Z[1],ce=Object(n.useRef)(!1),ne=Object(n.useRef)(!1),re=Object(n.useRef)(!1),se=N()(),ae=Object(n.useState)([]),ie=Object(u.a)(ae,2),le=ie[0],oe=ie[1];Object(n.useEffect)((function(){return se.listen((function(e){"PUSH"===se.action&&oe([e.key]),"POP"===se.action&&(le[1]===e.key?(oe((function(e){var t=Object(d.a)(e);t[0];return t.slice(1)})),window.location.reload()):(oe((function(t){return[e.key].concat(Object(o.a)(t))})),window.location.reload()))}))}),[le]);var de=Object(n.useRef)(null),ue="",je="Any",he="",be="",fe="";function pe(){return(pe=Object(l.a)(i.a.mark((function e(){var t,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h([!1]),e.next=4,fetch("https://api.pushshift.io/reddit/search/".concat(je,"/?").concat(ue).concat(fe).concat(be).concat(he));case 4:return t=e.sent,e.next=7,t.json();case 7:0===(c=e.sent).data.length?(W("No Results"),de.current.style.display="block"):de.current.style.display="none",h(c.data),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),console.log("sb");case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function Oe(){return(Oe=Object(l.a)(i.a.mark((function e(){var t,c,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h([!1]),e.next=4,fetch("https://api.pushshift.io/reddit/search/submission/?".concat(ue).concat(fe).concat(be).concat(he));case 4:return t=e.sent,e.next=7,fetch("https://api.pushshift.io/reddit/search/comment/?".concat(ue).concat(fe).concat(be).concat(he));case 7:return c=e.sent,e.next=10,t.json();case 10:return n=e.sent,e.next=13,c.json();case 13:r=e.sent,console.log(n,r,t,c),0===n.data.length?(W("No Results"),de.current.style.display="block"):de.current.style.display="none",Promise.all([].concat(Object(o.a)(r.data),Object(o.a)(n.data))).then((function(e){e.sort((function(e,t){return new Date(t.created_utc)>new Date(e.created_utc)?1:-1})),h(e)})),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})))).apply(this,arguments)}function me(){return(me=Object(l.a)(i.a.mark((function e(){var t,c,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.pushshift.io/reddit/search/submission/?".concat(ue).concat(fe).concat(be).concat(he));case 3:return t=e.sent,e.next=6,fetch("https://api.pushshift.io/reddit/search/comment/?".concat(ue).concat(fe).concat(be).concat(he));case 6:return c=e.sent,e.next=9,t.json();case 9:return n=e.sent,e.next=12,c.json();case 12:r=e.sent,console.log(n,r,t,c),0===n.data.length?(W("No Results"),de.current.style.display="block"):de.current.style.display="none",Promise.all([].concat(Object(o.a)(r.data),Object(o.a)(n.data))).then((function(e){e.sort((function(e,t){return new Date(t.created_utc)>new Date(e.created_utc)?1:-1})),h((function(t){return[].concat(Object(o.a)(t),Object(o.a)(e))}))})),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}c.username&&(ue+="author="+c.username.replace(/\s/g,"")+"&"),c.subreddit&&(ue+="subreddit="+c.subreddit.replace(/\s/g,"")+"&"),c.searchTerm&&(ue+="q="+c.searchTerm.replace(/\s/g,"")+"&"),c.numReturned&&(ue+="size="+c.numReturned+"&"),c.query.length>0&&(je=c.query.toLowerCase().slice(0,-1)),c.before&&(be+="before="+Math.floor(new Date(c.before).getTime()/1e3)+"&",he=""),c.after&&(fe+="after="+Math.floor(new Date(c.after).getTime()/1e3)+"&"),c.score&&(ue+="score=>"+c.score+"&"),m||"Any"===je||"an"===je?(!m&&"Any"===je||!m&&"an"===je)&&(de.current.style.display="none",function(){Oe.apply(this,arguments)}(),x(!0)):(!function(){pe.apply(this,arguments)}(),de.current.style.display="none",x(!0)),Object(n.useEffect)((function(){if(C)if(c.numReturned<j.length)c.numReturned+=25,z(!1),X(!1);else if(c.numReturned===j.length){var e=j.slice(-1)[0].created_utc;he+="before="+e+"&",be="",fe="",function(){me.apply(this,arguments)}(),X(!0)}}));var xe=0;return xe=1!==j.length||j[0]?j.length<c.numReturned?j.length:c.numReturned:0,console.log(C,c.numReturned,j.length,j),Object(n.useEffect)((function(){"light"===localStorage.getItem("theme")?(ne.current.checked=!0,te(!0)):(ne.current.checked=!1,te(!1))})),Object(n.useEffect)((function(){ee?document.body.classList.add("light-mode"):document.body.classList.remove("light-mode")}),[ee]),Object(p.jsxs)(k.a,{basename:"",forceRefresh:!0,children:[Object(p.jsxs)("div",{className:"App",children:[Object(p.jsxs)("div",{id:"logo-parent",children:[Object(p.jsxs)("div",{id:"logo",children:[Object(p.jsxs)(k.b,{to:"/",activeClassName:"none",exact:!0,children:[Object(p.jsxs)("h1",{id:"logo-text",children:[Object(p.jsx)("i",{className:"fa fa-reddit-alien",id:"icon","aria-hidden":"true"})," ","Reddit Search Tool ",Object(p.jsx)("br",{})," "]})," "]}),Object(p.jsxs)("h2",{id:"pushift-descript",children:[Object(p.jsx)("a",{href:"https://pushshift.io/",target:"_blank",children:"Utilizing Pushift.io"})," "]})," "]})," "]})," ",Object(p.jsxs)("header",{children:[" ",Object(p.jsxs)("nav",{children:[" ",Object(p.jsxs)("div",{className:"container",children:[Object(p.jsxs)("ul",{children:[" ",Object(p.jsx)("li",{children:Object(p.jsx)(k.b,{to:"/",activeClassName:"active",className:"non-active",exact:!0,children:"Home"})}),Object(p.jsx)("li",{children:Object(p.jsx)(k.b,{to:"/about",activeClassName:"active",className:"non-active",children:"About"})}),Object(p.jsx)("li",{children:Object(p.jsx)(k.b,{to:"/settings",activeClassName:"active",className:"non-active",children:"Settings"})})]})," ",Object(p.jsx)("div",{id:"container-parent",children:Object(p.jsxs)("label",{id:"switch",className:"switch",children:[Object(p.jsx)("input",{type:"checkbox",id:"slider",onChange:function(e){var t="";e.target.checked?(t="light",te(!0)):(t="dark",te(!1)),localStorage.setItem("theme",t)},ref:ne}),Object(p.jsx)("span",{className:"slider round"})]})})]})]})]}),Object(p.jsxs)(R.c,{children:[" ",Object(p.jsxs)(R.a,{path:"/",exact:!0,render:!0,children:[Object(p.jsx)("div",{id:"search-form",children:Object(p.jsx)("div",{id:"form-wrapper",children:Object(p.jsx)(O,{minimize:D,setSearch:x,search:m,updateData:r,setMinimize:q,showResults:ce,showFava:re,changeQuerySize:function(){q(!0),D&&q(!1)}})})}),Object(p.jsx)("div",{id:"items-parent",ref:re,children:Object(p.jsx)("div",{children:Object(p.jsx)(g,{api:j,query:c.query,minimizeR:A,errorMessage:H,error:de,data:r,setMore:z,showResults:ce,size:c.numReturned,loadingMessage:V,searchTerm:c.searchTerm,changeResultsSize:function(){I(!0),A&&I(!1)},resultAmt:xe})})})]})," ",Object(p.jsx)(R.a,{path:"/about",children:Object(p.jsx)("div",{children:Object(p.jsx)(y,{})})}),Object(p.jsxs)(R.a,{path:"/settings",children:[" ",Object(p.jsx)("div",{children:Object(p.jsx)(w,{})})]})]})]})," "]})},z=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,193)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;c(e),n(e),r(e),s(e),a(e)}))};s.a.render(Object(p.jsx)(C,{}),document.getElementById("root")),z()},89:function(e,t,c){},90:function(e,t,c){}},[[191,1,2]]]);
//# sourceMappingURL=main.0bd83519.chunk.js.map