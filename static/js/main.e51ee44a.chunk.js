(this.webpackJsonpreddit=this.webpackJsonpreddit||[]).push([[0],{101:function(e,t,n){},102:function(e,t,n){},190:function(e,t,n){},191:function(e,t,n){},212:function(e,t,n){},213:function(e,t,n){},215:function(e,t,n){},236:function(e,t,n){"use strict";n.r(t);var s=n(1),c=n(26),r=n.n(c),i=n(8),a=n.n(i),o=n(18),l=n(33),d=n(19),u=n(89),h=n(5),b=(n(101),n(15)),j=n(7),f=(n(102),n(51)),p=n.n(f),O=(n(103),n(0));var x=function(e){var t,n=e.updateData,c=e.setSearch,r=e.minimize,i=e.setMinimize,a=(e.search,e.showResults),o=e.showFava,d=e.changeQuerySize,u=e.toggleInput,f=e.setApi,x=e.apis,g=(e.syncingData,e.setDeletionStatus),m=e.deletionStatus,v=Object(s.useRef)(),k=(Object(s.useRef)(),Object(s.useRef)()),y=Object(s.useRef)(),w=Object(s.useRef)(),S=Object(s.useRef)(),_=Object(s.useRef)(),z=Object(s.useRef)(),N=Object(s.useRef)(),C=Object(s.useRef)(),R=Object(s.useRef)(),I=Object(s.useRef)(),D=Object(s.useRef)(),A=Object(s.useRef)(),F=Object(s.useRef)(),q=Object(s.useRef)(),M=Object(s.useRef)(),T=Object(s.useRef)(),E=function(e){var t,n=new URLSearchParams(e),s={},c=Object(l.a)(n.keys());try{for(c.s();!(t=c.n()).done;){var r=t.value;n.getAll(r).length>1?s[r]=n.getAll(r):s[r]=n.get(r)}}catch(i){c.e(i)}finally{c.f()}return s}(window.location.search),L=Object(s.useState)({author:E.author?E.author.replace(/ /g,""):"",subreddit:E.subreddit?E.subreddit:"",type:E.type?E.type:"",size:parseInt(E.size)?parseInt(E.size):100,score:E.score?E.score:"",before:E.before?Math.floor(new Date(E.before).getTime()/1e3*1e3):"",after:E.after?Math.floor(new Date(E.after).getTime()/1e3*1e3):"",q:E.q?E.q:"",over_18:E.over_18?E.over_18:"",stickied:E.stickied?E.stickied:"",is_self:E.is_self?E.is_self:"",locked:E.locked?E.locked:"",distinguished:E.distinguished?E.distinguished:"",id:E.id?E.id:"",link_id:E.link_id?E.link_id:""}),P=Object(h.a)(L,2),W=P[0],B=P[1],H=Object(s.useState)(!1),J=Object(h.a)(H,2),K=J[0],U=J[1];return Object(s.useEffect)((function(){var e=!1;window.location.search&&!e&&(e=!0,n(W),c(!1),i(!0),o.current.style.display="flex",a.current.style.display="block")}),[]),Object(s.useEffect)((function(){"checked"===localStorage.getItem("setting1")&&(v.current.style.display="flex"),"checked"===localStorage.getItem("setting2")&&(k.current.style.display="flex")})),Object(s.useEffect)((function(){"Miser"!==x||W.author?(y.current.required=!1,U(!1)):(y.current.required=!0,U(!0))}),[x,W.author]),Object(s.useEffect)((function(){"Reddit"===x?(y.current.disabled=!0,z.current.disabled=!0,S.current.disabled=!0,_.current.disabled=!0,w.current.disabled=!0,I.current.disabled=!0,A.current.disabled=!0,D.current.disabled=!0,N.current.disabled=!0,F.current.disabled=!0,q.current.disabled=!0,C.current.disabled=!0,R.current.disabled=!0,M.current.required=!0,T.current.disabled=!0):(y.current.disabled=!1,z.current.disabled=!1,S.current.disabled=!1,_.current.disabled=!1,w.current.disabled=!1,I.current.disabled=!1,A.current.disabled=!1,D.current.disabled=!1,N.current.disabled=!1,F.current.disabled=!1,q.current.disabled=!1,C.current.disabled=!1,R.current.disabled=!1,M.current.required=!1,T.current.disabled=!1)})),Object(O.jsxs)("div",{id:"".concat(r?"search-query-minimized":"search-query-maximized"),children:[" ",Object(O.jsx)("div",{className:"panel-header",children:Object(O.jsxs)("h2",{id:"search-min",onClick:d,className:u?"light-search-tag":"",children:["Search Query"," ",Object(O.jsx)("i",{onClick:d,class:"fa fa-".concat(r?"plus":"minus","-square"),"aria-hidden":"true"})]})}),Object(O.jsx)("div",{id:"form-".concat(r?"hover":"parent"),onClick:r?d:"",className:u?"light-form":"",children:Object(O.jsx)("div",{id:u?"form-light":"form",children:Object(O.jsxs)("form",{onSubmit:function(e){n(W),e.preventDefault(),c(!1),i(!0),o.current.style.display="flex",a.current.style.display="block";var t="";for(var s in W)""!=t&&(t+="&"),t=(t+=s+"="+encodeURIComponent(W[s])).replace(/[^=&]+=(&|$)/g,"").replace(/&$/,""),window.location.search=t},class:"form-".concat(r?"minimize":"maximize"),children:[Object(O.jsxs)("div",{id:"row-1",children:[Object(O.jsxs)("div",{className:"row-wrapper",children:[Object(O.jsxs)("label",{children:["username",Object(O.jsx)("div",{id:"username-parent",children:Object(O.jsx)("span",{id:"username-descrip",children:"yields analytics"})})]}),Object(O.jsx)("input",{value:W.author,placeholder:"Username (e.g. thisisbillgates)",type:"text",onChange:function(e){B(Object(j.a)(Object(j.a)({},W),{},{author:e.target.value.replace(/ /g,"")}))},ref:y,id:"author-".concat(K?"required":"input")})," "]}),Object(O.jsxs)("div",{className:"row-wrapper",children:[Object(O.jsx)("label",{children:"subreddit"}),Object(O.jsx)("input",{value:W.subreddit,placeholder:"Subreddit",type:"text",ref:w,onChange:function(e){B(Object(j.a)(Object(j.a)({},W),{},{subreddit:e.target.value.replace(/ /g,"")}))},id:"subreddit-input"})," "]}),Object(O.jsxs)("div",{className:"row-wrapper",children:[Object(O.jsx)("label",{id:"search-for-input",children:"search for"}),Object(O.jsxs)("select",{onChange:function(e){B(Object(j.a)(Object(j.a)({},W),{},{type:e.target.value}))},value:W.type,ref:z,children:[" ",Object(O.jsx)("option",{children:"Any"}),Object(O.jsx)("option",{children:"Comments"}),Object(O.jsx)("option",{children:"Submissions"})]})," "]})," "]}),Object(O.jsxs)("div",{id:"row-2",children:[Object(O.jsx)("div",{id:"num-input",children:Object(O.jsxs)("div",{id:"score-input",children:[Object(O.jsxs)("div",{className:"row-wrapper",children:[Object(O.jsx)("label",{children:"score"}),Object(O.jsx)("input",(t={ref:z,placeholder:"Score",type:"number",id:"score-input-box",min:"25",step:"25"},Object(b.a)(t,"ref",A),Object(b.a)(t,"value",W.score),Object(b.a)(t,"onChange",(function(e){B(Object(j.a)(Object(j.a)({},W),{},{score:e.target.value}))})),t))," "]})," "]})}),Object(O.jsxs)("div",{className:"row-wrapper",children:[Object(O.jsxs)("div",{id:"before-input",children:[Object(O.jsx)("label",{children:"before"}),Object(O.jsx)(p.a,{popperProps:{positionFixed:!0},ref:C,value:new Date(1e3*W.before),selected:W.before,onChange:function(e){B(Object(j.a)(Object(j.a)({},W),{},{before:e}))}})," ",Object(O.jsx)("span",{class:"fa fa-calendar-o"})]})," "]}),Object(O.jsx)("div",{className:"row-wrapper",children:Object(O.jsxs)("div",{id:"after-input",children:[Object(O.jsx)("label",{children:"after"}),Object(O.jsx)(p.a,{popperProps:{positionFixed:!0},ref:R,type:"text",selected:W.after,onChange:function(e){return B(Object(j.a)(Object(j.a)({},W),{},{after:e}))}})," ",Object(O.jsx)("span",{class:"fa fa-calendar-o"})]})})," "]})," ",Object(O.jsxs)("div",{id:"advanced-row",ref:v,children:[Object(O.jsxs)("div",{className:"row-wrapper",children:[Object(O.jsx)("label",{children:"NSFW"}),Object(O.jsxs)("select",{ref:S,className:"advanced-input",value:W.over_18,onChange:function(e){B(Object(j.a)(Object(j.a)({},W),{},{over_18:e.target.value}))},children:[Object(O.jsx)("option",{children:"Any"}),Object(O.jsx)("option",{children:"True"}),Object(O.jsx)("option",{children:"False"})]})," "]})," ",Object(O.jsxs)("div",{className:"row-wrapper",children:[Object(O.jsx)("label",{children:"Stickied"}),Object(O.jsxs)("select",{ref:_,className:"advanced-input",value:W.stickied,onChange:function(e){B(Object(j.a)(Object(j.a)({},W),{},{stickied:e.target.value}))},children:[Object(O.jsx)("option",{children:"Any"}),Object(O.jsx)("option",{children:"True"}),Object(O.jsx)("option",{children:"False"})]})," "]})," ",Object(O.jsxs)("div",{className:"row-wrapper",children:[Object(O.jsx)("label",{children:"Is Self"}),Object(O.jsxs)("select",{ref:N,className:"advanced-input",value:W.is_self,onChange:function(e){B(Object(j.a)(Object(j.a)({},W),{},{is_self:e.target.value}))},children:[Object(O.jsx)("option",{children:"Any"}),Object(O.jsx)("option",{children:"True"}),Object(O.jsx)("option",{children:"False"})]})," "]}),Object(O.jsxs)("div",{className:"row-wrapper",children:[Object(O.jsx)("label",{children:"Locked"}),Object(O.jsxs)("select",{ref:D,className:"advanced-input",value:W.locked,onChange:function(e){B(Object(j.a)(Object(j.a)({},W),{},{locked:e.target.value}))},children:[Object(O.jsx)("option",{children:"Any"}),Object(O.jsx)("option",{children:"True"}),Object(O.jsx)("option",{children:"False"})]})," "]})," ",Object(O.jsxs)("div",{className:"row-wrapper",children:[Object(O.jsx)("label",{children:"Distinguished"}),Object(O.jsxs)("select",{ref:I,className:"advanced-input",value:W.distinguished,onChange:function(e){B(Object(j.a)(Object(j.a)({},W),{},{distinguished:e.target.value}))},children:[Object(O.jsx)("option",{children:"Any"}),Object(O.jsx)("option",{children:"Admin"}),Object(O.jsx)("option",{children:"Moderator"})]})," "]})]}),Object(O.jsxs)("div",{id:"row-3",children:[Object(O.jsx)("div",{id:"search-term-input",children:Object(O.jsxs)("div",{className:"row-wrapper",children:[Object(O.jsx)("label",{children:"Search Terms"}),Object(O.jsx)("input",{value:W.q,placeholder:"Search Terms",type:"text",ref:M,onChange:function(e){B(Object(j.a)(Object(j.a)({},W),{},{q:e.target.value}))}})," "]})}),Object(O.jsxs)("div",{className:"row-wrapper",children:[Object(O.jsx)("label",{children:"amount returned"}),Object(O.jsx)("input",{placeholder:"Size",onChange:function(e){B(Object(j.a)(Object(j.a)({},W),{},{size:parseInt(e.target.value)}))},ref:T,value:W.size,type:"number",min:"25",step:"25",id:"amnt-ret"})," "]})," ",Object(O.jsxs)("div",{className:"row-wrapper",id:"api-wrapper",children:[Object(O.jsx)("label",{children:"API"}),Object(O.jsxs)("select",{id:"advanced-api-search",onChange:function(e){f(e.target.value)},value:x,children:[Object(O.jsx)("option",{children:"Pushshift"}),Object(O.jsx)("option",{children:"Reddit"}),Object(O.jsx)("option",{children:"Miser"})]})," "]}),Object(O.jsxs)("div",{className:"row-wrapper",id:"api-wrapper",children:[Object(O.jsx)("label",{children:"Deletion Status"}),Object(O.jsxs)("select",{id:"advanced-api-search",onChange:function(e){g(e.target.value)},value:m,children:[Object(O.jsx)("option",{children:"All Submissions/Comments "}),Object(O.jsx)("option",{children:"Deleted Submissions/Comments"})]})," "]})]}),Object(O.jsxs)("div",{id:"developer-row",ref:k,children:[Object(O.jsxs)("div",{className:"row-wrapper",children:[Object(O.jsx)("label",{children:"ID"}),Object(O.jsx)("input",{ref:F,placeholder:"ID",type:"text",onChange:function(e){B(Object(j.a)(Object(j.a)({},W),{},{id:e.target.value}))}})," "]})," ",Object(O.jsxs)("div",{className:"row-wrapper",children:[Object(O.jsx)("label",{children:"Link ID"}),Object(O.jsx)("input",{ref:q,placeholder:"Link ID",type:"text",onChange:function(e){B(Object(j.a)(Object(j.a)({},W),{},{link_id:e.target.value.replace(/ /g,"")}))}})," "]})," "]}),Object(O.jsxs)("div",{id:"row-4",children:[" ",Object(O.jsx)("div",{children:Object(O.jsx)("div",{className:"row-wrapper",children:Object(O.jsx)("input",{id:"clear-btn",value:"Clear",onClick:function(){B({author:"",subreddit:"",type:"",size:100,score:"",before:"",after:"",q:"",over_18:"",stickied:"",is_self:"",locked:"",distinguished:"",id:"",link_id:""})},type:"button"})})}),Object(O.jsx)("div",{id:"search-btn",children:Object(O.jsxs)("div",{className:"row-wrapper",children:[Object(O.jsx)("input",{id:"search-btn",value:"Search",type:"submit"})," "]})})]})]})})})]})};n(190),n(191);var g=function(e){var t=e.toggleInput;return Object(O.jsxs)("div",{id:"loader-parent",children:[" ",Object(O.jsx)("i",{className:"fa fa-cog fa-spin",style:Object(b.a)({color:"white",fontSize:"2em",position:"relative",display:"flex",alignContent:"center",top:"2px",fontSmooth:"auto"},"color",t?"#495057":"#eee")})]})},m=n(54),v=n.n(m),k=n(92),y=n(93),w=n.n(y);var S=function(e){var t=e.api,c=e.errorMessage,r=e.error,i=(e.data,e.setMore),a=e.minimizeR,o=e.showResults,l=e.size,d=e.loadingMessage,u=e.searchTerm,j=e.changeResultsSize,f=e.resultAmt,p=e.toggleInput,x=e.syncingData,m=(e.loading,e.requests),y=e.itemCount,S=Object(s.useRef)(!1),_=Object(s.useRef)(!1),z=Object(s.useRef)(!1),N=Object(s.useState)({expanded:""}),C=Object(h.a)(N,2),R=C[0],I=C[1],D=Object(s.useRef)();Object(s.useRef)();var A=n(211);return Object(O.jsxs)("div",{id:"".concat(a?"results-minimized":""),onClick:a?j:"",children:[Object(O.jsx)("div",{id:"results-header",children:Object(O.jsxs)("h2",{id:"results-min",onClick:j,className:p?"light-results-tag":"",children:["Results - ",f," ",Object(O.jsx)("i",{onClick:j,className:"fa fa-".concat(a?"plus":"minus","-square"),"aria-hidden":"true"})]})}),Object(O.jsxs)("div",{id:"item-".concat(a?"hover":"parent"),ref:o,className:p?"light-results":"",children:[Object(O.jsxs)("div",{ref:r,id:"error",children:[" ",c]}),!x&&"No Results"!==c&&Object(O.jsxs)("div",{id:"loader-wrapper",children:[Object(O.jsx)(g,{toggleInput:p})," ",Object(O.jsxs)("div",{id:"loading-text",children:["Loading \u2022"," ","Fetching ".concat(y,"/").concat(l," items in ").concat(m," requests")," "]})," "]}),x&&t.slice(0,l).map((function(e,n){var s,c=new Date(1e3*e.created_utc).toString(),i={Jan:"1",Feb:"2",Mar:"3",Apr:"4",May:"5",Jun:"6",Jul:"7",Aug:"8",Sep:"9",Oct:"10",Nov:"11",Dec:"12"}[c.slice(4,7)];if(!e)return D.current.style.display="none",Object(O.jsxs)("div",{id:"loader-wrapper",children:[Object(O.jsx)(g,{},n)," ",Object(O.jsx)("div",{id:"loading-text",children:"Loading \u2022 Results "})," "]});e.permalink?s=e.permalink:e.link_id&&(s="/comments/".concat(e.link_id.split("_")[1],"/_/").concat(e.id));c.slice(8,10),c.slice(11,15);if(t.length>0&&S){D.current.style.display="block",a&&(D.current.style.display="none"),l>t.length&&(D.current.style.display="none"),0===t.length?r.current.style.display="block":r.current.style.display="none",l>t.length&&(D.current.style.display="block"),l>t.length&&(D.current.style.display="none");var o=A.getParser().render(e.body?e.body:e.selftext?e.selftext:"");return Object(O.jsx)("div",{className:"parent",id:"results-".concat(a?"minimize":"maximize"),children:Object(O.jsxs)("div",{className:"details",children:[" ",Object(O.jsxs)("div",{className:"image-parent",children:[e.domain?Object(O.jsxs)("div",{id:"image-child",children:["self"!==e.thumbnail&&"default"!==e.thumbnail&&"nsfw"!==e.thumbnail&&"image"!==e.thumbnail&&"spoiler"!==e.thumbnail||"nsfw"===e.thumbnail&&"checked"!==localStorage.getItem("setting3")?Object(O.jsxs)("div",{id:"image",onClick:function(){I({expanded:n}),R.expanded===n&&I({expanded:!1})},style:{backgroundImage:"url(".concat("bmp"===e.url.substring(e.url.length-3)||"jpg"===e.url.substring(e.url.length-3)||"png"===e.url.substring(e.url.length-3)||"gif"===e.url.substring(e.url.length-3)?e.url:e.thumbnail,")")},children:["checked"===localStorage.getItem("setting3")||e.url.match("^(https?|ftp)://.*(jpg|png|gif|bmp)")||e.thumbnail.match("^(https?|ftp)://.*(jpg|png|gif|bmp)")||"nsfw"!==e.thumbnail?"":Object(O.jsxs)("div",{id:"nsfw",children:[" ",e.is_deleted?Object(O.jsx)("i",{class:"fa fa-trash",style:{fontSize:"25px",color:"white",zIndex:"999"},"aria-hidden":"true"}):"",Object(O.jsx)("div",{style:{opacity:e.is_deleted?"0.4":"",filter:"brightness(0.75)"},children:Object(O.jsx)("i",{className:"fa fa-eye-slash","aria-hidden":"true"})})," "]}),Object(O.jsx)("i",{class:"fa fa-expand",style:{fontSize:"25px",color:"white",zIndex:"999"},"aria-hidden":"true"})]}):"","default"===e.thumbnail&&"self"===e.domain.slice(0,4)||"self"===e.thumbnail?Object(O.jsxs)("div",{id:"self-post",children:[e.is_deleted?Object(O.jsx)("i",{class:"fa fa-trash",style:{fontSize:"25px",color:"white",zIndex:"999"},"aria-hidden":"true"}):"",Object(O.jsx)("div",{style:{opacity:e.is_deleted?"0.4":"",filter:"brightness(0.75)"},children:Object(O.jsx)("i",{className:"fa fa-file-text","aria-hidden":"true"})})," "]}):"","nsfw"===e.thumbnail&&"checked"===localStorage.getItem("setting3")||"spoiler"===e.thumbnail&&"checked"===localStorage.getItem("setting3")?Object(O.jsxs)("div",{id:"nsfw",children:[" ",e.is_deleted?Object(O.jsx)("i",{class:"fa fa-trash",style:{fontSize:"25px",color:"white",zIndex:"999"},"aria-hidden":"true"}):"",Object(O.jsx)("div",{style:{opacity:e.is_deleted?"0.4":"",filter:"brightness(0.75)"},children:Object(O.jsx)("i",{className:"fa fa-user-secret","aria-hidden":"true"})})," "]}):"","self"!==e.domain.slice(0,4)&&"default"===e.thumbnail||"nsfw"!==e.thumbnail&&"image"===e.thumbnail?Object(O.jsxs)("div",{id:"link-post",children:[e.is_deleted?Object(O.jsx)("i",{class:"fa fa-trash",style:{fontSize:"25px",color:"white",zIndex:"999"},"aria-hidden":"true"}):"",Object(O.jsx)("div",{style:{opacity:e.is_deleted?"0.4":"",filter:"brightness(0.75)"},children:Object(O.jsx)("i",{class:"fa fa-link","aria-hidden":"true"})})," "]}):""]}):"",Object(O.jsx)("div",{id:"align-vertically",children:Object(O.jsxs)("div",{id:"details-child",children:[Object(O.jsx)(v.a,{mark:u,children:e.title?Object(O.jsx)("div",{id:"title",ref:z,children:Object(O.jsx)("a",{id:"title-anchor",children:Object(O.jsxs)("p",{children:[Object(O.jsxs)("a",{id:"title-anchor-child",href:e.full_link||"https://reddit.com".concat(s),children:[" ",e.title]})," ",e.is_deleted?Object(O.jsxs)("span",{id:"is-deleted",children:[e.is_deleted," ",Object(O.jsx)("i",{style:{position:"relative",lineHeight:"0px",fontWeight:"200",display:"inline-block"},class:"fa fa-trash-o","aria-hidden":"true"})]}):"",e.over_18?Object(O.jsxs)("span",{id:"NSFW-flair",children:["NSFW"," ",Object(O.jsx)("i",{style:{position:"relative",lineHeight:"0px",fontWeight:"200",display:"inline-block"},class:"fa fa-eye-slash","aria-hidden":"true"})]}):"",e.stickied?Object(O.jsxs)("span",{id:"stickied-flair",children:["Stickied"," ",Object(O.jsx)("i",{style:{position:"relative",lineHeight:"0px",fontWeight:"200",display:"inline-block"},class:"fa fa-sticky-note-o","aria-hidden":"true"})]}):"",e.locked?Object(O.jsxs)("span",{id:"locked-flair",children:["Locked"," ",Object(O.jsx)("i",{style:{position:"relative",lineHeight:"0px",fontWeight:"200",display:"inline-block"},class:"fa fa-lock","aria-hidden":"true"})]}):"",e.distinguished?Object(O.jsxs)("span",{id:"distinguished-flair",children:["moderator"===e.distinguished?"moderator":"admin"," ",Object(O.jsx)("i",{style:{position:"relative",lineHeight:"0px",fontWeight:"200",display:"inline-block"},class:"fa fa-shield","aria-hidden":"true"})]}):"",Object(O.jsxs)("a",{id:"domain",href:e.url,children:["(",e.domain,")"]})]})})}):""}),Object(O.jsxs)("a",{children:["t3"===e.kind?"submitted":"commented"," by"," "]}),Object(O.jsxs)("a",{className:"author",children:["u/",e.author]}),Object(O.jsxs)("a",{title:new Date(c),children:[" ",w()(new Date(c)).fromNow()," in"," "]}),Object(O.jsxs)("a",{className:"subreddit",children:["r/",e.subreddit]})," ",e.is_deleted&&"t1"===e.kind?Object(O.jsx)("i",{class:"fa fa-trash-o",title:e.is_deleted,style:{fontSize:"15px",color:"#eee",zIndex:"999"},"aria-hidden":"true"}):"",Object(O.jsxs)("div",{id:"tags",children:[Object(O.jsx)("div",{id:"upvote",children:Object(O.jsxs)("i",{class:"fa fa-arrow-up","aria-hidden":"true",children:[" ",Object(O.jsx)("span",{id:"score",children:e.score})]})}),"t3"===e.kind?Object(O.jsx)("div",{id:"upvote-percentage",children:Object(O.jsxs)("i",{class:"fa fa-line-chart","aria-hidden":"true",children:[" ",Object(O.jsxs)("span",{id:"score",children:[e.upvote_ratio?Math.trunc(100*e.upvote_ratio):100,"%"]})]})}):"","t3"===e.kind?Object(O.jsx)("div",{id:"upvote-percentage",children:Object(O.jsxs)("i",{class:"fa fa-commenting","aria-hidden":"true",children:[" ",Object(O.jsx)("span",{id:"score",children:e.num_comments})]})}):""]})]})})]}),!!(e.body||e.selftext||"t3"===e.kind&&R.expanded===n)&&Object(O.jsx)("div",{id:"body-parent",children:Object(O.jsx)(v.a,{mark:u,children:Object(O.jsxs)("div",{id:"body",ref:_,children:[Object(k.a)(o),"t3"===e.kind&&"self"!==e.thumbnail&&"default"!==e.thumbnail&&"nsfw"!==e.thumbnail&&"image"!==e.thumbnail&&"spoiler"!==e.thumbnail?e.url.match("^(https?|ftp)://.*(jpg|png|gif|bmp)")?"":Object(O.jsx)("a",{href:e.url,target:"_blank",children:e.url}):"","t3"===e.kind?Object(O.jsxs)("div",{id:"body-image",children:[e.url.match("^(https?|ftp)://.*(jpg|png|gif|bmp)")?Object(O.jsx)("img",{src:e.url}):""," "]}):""]})})}),Object(O.jsxs)("div",{className:"footer",children:[Object(O.jsx)("div",{id:"view-on-reddit",children:Object(O.jsx)("a",{href:e.full_link||"https://reddit.com".concat(s),target:"_blank",rel:"noreferrer",children:"view on reddit"})}),Object(O.jsx)("div",{id:"view-on-reddit",children:Object(O.jsx)("a",{href:"https://www.removeddit.com".concat(s),target:"_blank",rel:"noreferrer",children:"view on removeddit"})})]})]})},n)}D.current.style.display="none"}))," ",Object(O.jsxs)("button",{id:"load-more",onClick:function(e){i(!0)},ref:D,style:{pointerEvents:d?"none":""},children:[Object(O.jsxs)("div",{id:"load-more-wrapper",children:[d?Object(O.jsxs)("div",{id:"load-more-parent",children:[" ",Object(O.jsx)("i",{className:"fa fa-cog fa-spin",style:Object(b.a)({color:"white",fontSize:"2em",position:"relative",display:"flex",alignContent:"center",fontSmooth:"auto",bottom:"1px"},"color",p?"#495057":"#eee")})]}):"",Object(O.jsxs)("div",{id:"load-more-text",children:[d?"Loading \u2022 Fetching ".concat(y,"/").concat(l," items in ").concat(m," requests"):"Load More"," "]})," "]})," "]})," "]})]})};n(212);var _=function(){return Object(O.jsx)("div",{children:Object(O.jsx)("h1",{id:"temp",children:"Work In Progress"})})};n(213);var z=function(){var e=Object(s.useRef)(!1),t=Object(s.useRef)(!1),n=Object(s.useRef)(!1);return Object(s.useEffect)((function(){"checked"===localStorage.getItem("setting1")&&(t.current.checked=!0),"checked"===localStorage.getItem("setting2")&&(n.current.checked=!0),"checked"===localStorage.getItem("setting3")&&(e.current.checked=!0)})),Object(O.jsxs)("div",{id:"settings-parent",children:[Object(O.jsx)("div",{className:"settings-header",children:Object(O.jsx)("h2",{id:"settings-tag",children:"Settings "})}),Object(O.jsxs)("div",{id:"settings-child",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("input",{type:"checkbox",id:"advanced-options",ref:t,onChange:function(e){var t="";e.target.checked&&(t="checked"),localStorage.setItem("setting1",t)}})," ",Object(O.jsx)("label",{for:"advanced-options",children:"Show Advanced Options"})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("input",{type:"checkbox",id:"developer-options",ref:n,onChange:function(e){var t="";e.target.checked&&(t="checked"),localStorage.setItem("setting2",t)}})," ",Object(O.jsx)("label",{for:"developer-options",children:" Show Developer Options"})]})," ",Object(O.jsxs)("div",{children:[Object(O.jsx)("input",{type:"checkbox",id:"NSFW",ref:e,onChange:function(e){var t="";e.target.checked&&(t="checked"),localStorage.setItem("setting3",t)}})," ",Object(O.jsx)("label",{for:"NSFW",children:" Hide NSFW Content"})]})]})]})},N=n(55),C=n.n(N);n(215);var R=function(e){var t=e.username,n=e.setDataRecieved,c=e.dataRecieved,r=e.syncingData,i=e.toggleInput,l=e.minAnalytics,d=e.changeAnalyticsSize,u=Object(s.useState)(!1),b=Object(h.a)(u,2),j=(b[0],b[1],Object(s.useState)(!1)),f=Object(h.a)(j,2),p=f[0],x=f[1],g=Object(s.useState)(!1),m=Object(h.a)(g,2),v=(m[0],m[1]),k=Object(s.useState)({options:{labels:[],colors:["#1d1d1b","#370617","#6a040f","#9d0208","#d00000","#dc2f02","#e85d04","#f48c06","#faa307","#ffba08","#03045e","#023e8a","#0077b6","#0096c7","#00b4d8","#48cae4","#CCCCFF","#6495ED","#9FE2BF"],legend:{labels:{colors:i?"#212529":"#eee",useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,strokeColor:"#444",fillColors:void 0,radius:12,customHTML:void 0,onClick:void 0,offsetX:0,offsetY:0}}},series:[]}),y=Object(h.a)(k,2),w=y[0],S=(y[1],Object(s.useState)({options:{labels:[],colors:["#797d62","#9b9b7a","#baa587","#f1dca7","#ffcb69","#e8ac65","#d08c60","#b58463","#997b66","#0d1b2a","#1b263b","#415a77","#778da9","#f7d1cd","#e8c2ca","#d1b3c4","#b392ac","#735d78","#ffc09f"],legend:{labels:{colors:i?"#212529":"#eee",useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,strokeColor:"#444",fillColors:void 0,radius:12,customHTML:void 0,onClick:void 0,offsetX:0,offsetY:0}}},series:[]})),_=Object(h.a)(S,2),z=_[0];return _[1],Object(s.useEffect)((function(){function e(){return(e=Object(o.a)(a.a.mark((function e(){var s,c,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.info("fetching analytics"),e.next=4,fetch("https://archivesort.org/discuss/reddit/miser?type=submissions&author=".concat(t.toLowerCase(),"&aggs=subreddits"));case 4:return s=e.sent,console.info(s.url),e.next=8,s.json();case 8:if((c=e.sent).data[0]){e.next=11;break}return e.abrupt("return",!1);case 11:if(!c.data){e.next=15;break}for(r=0;r<c.data.slice(0,15).length;r++)w.series.push(c.data[r].total),w.options.labels.push(c.data[r]._id);e.next=16;break;case 15:return e.abrupt("return",!1);case 16:n(!0),v(!0),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})))).apply(this,arguments)}function s(){return(s=Object(o.a)(a.a.mark((function e(){var s,c,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.info("fetching analytics"),e.next=4,fetch("https://archivesort.org/discuss/reddit/miser?type=comments&author=".concat(t.toLowerCase(),"&aggs=subreddits"));case 4:return s=e.sent,console.info(s.url),e.next=8,s.json();case 8:if((c=e.sent).data[0]){e.next=11;break}return e.abrupt("return",!1);case 11:if(!c.data){e.next=15;break}for(r=0;r<c.data.slice(0,15).length;r++)z.series.push(c.data[r].total),z.options.labels.push(c.data[r]._id);e.next=16;break;case 15:return e.abrupt("return",!1);case 16:n(!0),x(!0),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),function(){s.apply(this,arguments)}()}),[]),Object(O.jsx)("div",{children:c&&r?Object(O.jsxs)("div",{id:"".concat(l?"analytics-minimized":""),children:[Object(O.jsx)("div",{id:"results-header",children:Object(O.jsxs)("h2",{id:"results-min",onClick:d,className:"analysis-tag",children:["Analytics"," ",Object(O.jsx)("i",{className:"fa fa-".concat(l?"plus":"minus","-square"),"aria-hidden":"true"})]})}),Object(O.jsx)("div",{id:"an-".concat(l?"hover":"parent"),onClick:d,children:Object(O.jsxs)("div",{id:l?"analytics-minimized-inner":"analytics",children:[Object(O.jsx)("div",{id:"in-beta-parent",children:Object(O.jsx)("span",{id:"in-beta-tag",children:"In Beta"})})," ",Object(O.jsx)("h2",{children:"Top 15 Subreddits Breakdown By Submissions "}),Object(O.jsx)("div",{id:"analytics-child",children:Object(O.jsx)(C.a,{class:"chart",options:w.options,series:w.series,type:"pie",width:"440px"})})," ",p?Object(O.jsx)("h2",{children:"Top 15 Subreddits Breakdown By Comments "}):"",p?Object(O.jsx)("div",{id:"analytics-child",children:Object(O.jsx)(C.a,{class:"chart",options:z.options,series:z.series,type:"pie",width:"440px"})}):""]})})]}):""})},I=n(23),D=n(10),A=n(94),F=n.n(A);var q=function(){var e=n(216),t=Object(s.useState)({author:!1,subreddit:!1,type:"any",size:100,score:!1,before:!1,after:!1,q:!1,is_self:!1,id:!1,link_id:!1}),c=Object(h.a)(t,2),r=c[0],i=c[1],b=Object(s.useState)([]),j=Object(h.a)(b,2),f=j[0],p=j[1],g=Object(s.useState)(!0),m=Object(h.a)(g,2),v=m[0],k=m[1],y=Object(s.useState)(!1),w=Object(h.a)(y,2),N=w[0],C=w[1],A=Object(s.useState)(!1),q=Object(h.a)(A,2),M=q[0],T=q[1],E=Object(s.useState)(!1),L=Object(h.a)(E,2),P=L[0],W=L[1],B=Object(s.useState)(!1),H=Object(h.a)(B,2),J=H[0],K=H[1],U=Object(s.useState)(!1),X=Object(h.a)(U,2),Y=(X[0],X[1],Object(s.useState)(!1)),Q=Object(h.a)(Y,2),$=Q[0],G=Q[1],V=Object(s.useState)(!1),Z=Object(h.a)(V,2),ee=Z[0],te=Z[1],ne=Object(s.useState)(),se=Object(h.a)(ne,2),ce=se[0],re=se[1],ie=Object(s.useState)(),ae=Object(h.a)(ie,2),oe=(ae[0],ae[1],Object(s.useState)("All Submissions/Comments")),le=Object(h.a)(oe,2),de=le[0],ue=le[1],he=Object(s.useState)(0),be=Object(h.a)(he,2),je=be[0],fe=be[1],pe=Object(s.useState)(0),Oe=Object(h.a)(pe,2),xe=Oe[0],ge=Oe[1],me=Object(s.useState)(),ve=Object(h.a)(me,2),ke=ve[0],ye=ve[1],we=Object(s.useState)(!1),Se=Object(h.a)(we,2),_e=(Se[0],Se[1],Object(s.useState)(!1)),ze=Object(h.a)(_e,2),Ne=(ze[0],ze[1],Object(s.useState)(!1)),Ce=Object(h.a)(Ne,2),Re=(Ce[0],Ce[1],Object(s.useState)()),Ie=Object(h.a)(Re,2),De=Ie[0],Ae=Ie[1],Fe=Object(s.useState)(),qe=Object(h.a)(Fe,2),Me=qe[0],Te=qe[1],Ee=Object(s.useState)(),Le=Object(h.a)(Ee,2),Pe=Le[0],We=Le[1],Be=Object(s.useRef)(!1),He=Object(s.useRef)(!1),Je=Object(s.useRef)(!1),Ke=F()(),Ue=Object(s.useState)([]),Xe=Object(h.a)(Ue,2),Ye=Xe[0],Qe=Xe[1];Object(s.useEffect)((function(){return Ke.listen((function(e){"PUSH"===Ke.action&&Qe([e.key]),"POP"===Ke.action&&(Ye[1]===e.key?(Qe((function(e){var t=Object(u.a)(e);t[0];return t.slice(1)})),window.location.reload()):(Qe((function(t){return[e.key].concat(Object(d.a)(t))})),window.location.reload()))}))}),[Ye]),Object(s.useEffect)((function(){var e=window.localStorage.getItem("API");e&&re(e)}),[]),Object(s.useEffect)((function(){window.localStorage.setItem("API",ce)})),Object(s.useEffect)((function(){var e=window.localStorage.getItem("is_deleted");e&&ue(e)}),[]),Object(s.useEffect)((function(){window.localStorage.setItem("is_deleted",de)}));var $e=Object(s.useRef)(null),Ge=function(e){var t,n=new URLSearchParams(e),s={},c=Object(l.a)(n.keys());try{for(c.s();!(t=c.n()).done;){var r=t.value;n.getAll(r).length>1?s[r]=n.getAll(r):s[r]=n.get(r)}}catch(i){c.e(i)}finally{c.f()}return s}(window.location.search);Ge.author&&(Ge.author=Ge.author.toLowerCase()),Ge.subreddit&&(Ge.subreddit=Ge.subreddit.toLowerCase()),Ge.q&&(Ge.q=Ge.q.toLowerCase()),Ge.before&&!/^\d+$/.test(Ge.before)&&(Ge.before=Math.floor(new Date(Ge.before).getTime()/1e3)),Ge.size>100&&"Miser"!==ce&&(Ge.size=100),Ge.size>1e3&&"Miser"===ce&&(Ge.size=1e3),Ge.score&&(Ge.score=">"+Ge.score);var Ve,Ze=encodeURIComponent,et=Object.keys(Ge).map((function(e){return Ze(e)+"="+Ze(Ge[e])})).join("&");Ve="any"!=Ge.type&&"Any"!=Ge.type&&Ge.type?Ge.type?Ge.type.toLowerCase().slice(0,-1).split(" "):"":["submission","comment"];var tt=(Ge.before,"");function nt(e,t){return et.replace(/^[^?]+\?/,""),"https://archivesort.org/discuss/reddit/miser?type=".concat(e,"&").concat(et).concat(t?"&before=".concat(t):"")}function st(e,t){return et.replace(/^[^?]+\?/,""),"https://api.pushshift.io/reddit/search/".concat(e,"/?").concat(et).concat(t?"&before=".concat(t):"","&html_decode=true")}var ct=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function rt(){return(rt=Object(o.a)(a.a.mark((function t(){var n,s,c,i,o,l,d,u,h,b,j,f,p,O,x,g,m,v,k;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n=[],s=[],c=r.size/100,i=c.toString().split(".")[0],o=parseInt(i,10),l=0,d=c.toString().split(".")[1]?c.toString().split(".")[1]:"",u=parseFloat(d.length>1?d:d+"0",10),h=u,console.log(h),1!==Ve.length){t.next=36;break}console.log(l,o,r.size),b=a.a.mark((function e(){var t,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>0&&(tt=n.slice(-1)[0]),console.info("fetching pushshift > 100"),fe((function(e){return e+1})),e.next=5,fetch(st(Ve[0],tt));case 5:return t=e.sent,console.info(t.url),e.next=9,t.json();case 9:if(0!==(c=e.sent).data.length){e.next=19;break}if(0!==s.length){e.next=18;break}return console.info("break"),Ae("No Results"),$e.current.style.display="block",e.abrupt("return","break");case 18:return e.abrupt("return","break");case 19:return c.data.length>0&&ge((function(e){return e+c.data.length})),n.push(c.data.slice(-1)[0].created_utc),s.push(c.data),l+=1,console.info("cooldown between request"),e.next=26,ct(1500);case 26:case"end":return e.stop()}}),e)}));case 14:if(l===o){t.next=21;break}return t.delegateYield(b(),"t0",16);case 16:if("break"!==t.t0){t.next=19;break}return t.abrupt("break",21);case 19:t.next=14;break;case 21:if(!h||1!=Ve.length){t.next=34;break}return console.info("fetching rest of data"),fe((function(e){return e+1})),tt=n.slice(-1)[0],t.next=27,fetch("https://api.pushshift.io/reddit/search/".concat(Ve[0],"/?").concat(et.replace(/size=\d+/,"size=".concat(h))).concat(tt?"&before=".concat(tt):"","&html_decode=true"));case 27:return j=t.sent,console.info(j.url),t.next=31,j.json();case 31:f=t.sent,ge((function(e){return e+f.data.length})),s.push(f.data);case 34:t.next=68;break;case 36:if(!(Ve.length>1)){t.next=68;break}console.log(l,o,r.size),p=a.a.mark((function t(){var c,r,i,o,d,u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.length>0&&(tt=n.slice(-1)[0]),console.info("fetching pushshift > 100"),fe((function(e){return e+1})),t.next=5,fetch(st("submission",Ge.before?"":tt));case 5:return c=t.sent,t.next=8,fetch(st("comment",Ge.before?"":tt));case 8:if(404!==(r=t.sent).status){t.next=11;break}throw new e.AbortError(r.statusText);case 11:return console.info(r.url),console.info(c.url),t.next=15,r.json();case 15:return i=t.sent,t.next=18,c.json();case 18:if(o=t.sent,d=o?o.data.concat(i.data):"",u=d?d.sort((function(e,t){return t.created_utc-e.created_utc})):"",0!==i.data.length||0!==o.data.length){t.next=30;break}if(0!==s.length){t.next=29;break}return console.info("break"),Ae("No Results"),$e.current.style.display="block",t.abrupt("return","break");case 29:return t.abrupt("return","break");case 30:return u&&(s.push(u),n.push(u.slice(-1)[0].created_utc),ge((function(e){return e+u.length}))),l+=1,console.info("cooldown between request"),t.next=35,ct(1500);case 35:case"end":return t.stop()}}),t)}));case 39:if(l===o){t.next=46;break}return t.delegateYield(p(),"t1",41);case 41:if("break"!==t.t1){t.next=44;break}return t.abrupt("break",46);case 44:t.next=39;break;case 46:if(!(h&&Ve.length>1)){t.next=68;break}return console.info("fetching rest of data"),fe((function(e){return e+1})),tt=n.slice(-1)[0],t.next=52,fetch("https://api.pushshift.io/reddit/search/submission/?".concat(et.replace(/size=\d+/,"size=".concat(h))).concat(tt?"&before=".concat(tt):"","&html_decode=true"));case 52:return O=t.sent,t.next=55,fetch("https://api.pushshift.io/reddit/search/comment/?".concat(et.replace(/size=\d+/,"size=".concat(h))).concat(tt?"&before=".concat(tt):"","&html_decode=true"));case 55:return x=t.sent,console.info(O.url),console.info(x.url),t.next=60,x.json();case 60:return g=t.sent,t.next=63,O.json();case 63:m=t.sent,v=m?m.data.concat(g.data):"",k=v?v.sort((function(e,t){return t.created_utc-e.created_utc})):"",ge((function(e){return e+k.length})),s.push(k);case 68:ye(s.concat.apply([],s)),n.length=0,s.length=0,t.next=76;break;case 73:t.prev=73,t.t2=t.catch(0),console.error(t.t2);case 76:case"end":return t.stop()}}),t,null,[[0,73]])})))).apply(this,arguments)}function it(){return(it=Object(o.a)(a.a.mark((function t(){var n,s,c,i,o,l,d,u,h,b,j,f,p,O,x,g,m,v,k;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n=[],s=[],c=r.size/100,i=c.toString().split(".")[0],o=parseInt(i,10),l=0,d=c.toString().split(".")[1]?c.toString().split(".")[1]:"",u=parseFloat(d.length>1?d:d+"0",10),h=u,console.log(h),1!==Ve.length){t.next=36;break}console.log(l,o,r.size),b=a.a.mark((function e(){var t,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>0&&(tt=n.slice(-1)[0]),console.info("fetching pushshift > 100"),fe((function(e){return e+1})),e.next=5,fetch(nt(Ve[0],tt));case 5:return t=e.sent,console.info(t.url),e.next=9,t.json();case 9:if(0!==(c=e.sent).data.length){e.next=19;break}if(0!==s.length){e.next=18;break}return console.info("break"),Ae("No Results"),$e.current.style.display="block",e.abrupt("return","break");case 18:return e.abrupt("return","break");case 19:return c.data.length>0&&ge((function(e){return e+c.data.length})),n.push(c.data.slice(-1)[0].created_utc),s.push(c.data),l+=1,console.info("cooldown between request"),e.next=26,ct(1500);case 26:case"end":return e.stop()}}),e)}));case 14:if(l===o){t.next=21;break}return t.delegateYield(b(),"t0",16);case 16:if("break"!==t.t0){t.next=19;break}return t.abrupt("break",21);case 19:t.next=14;break;case 21:if(!h||1!=Ve.length){t.next=34;break}return console.info("fetching rest of data"),fe((function(e){return e+1})),tt=n.slice(-1)[0],t.next=27,fetch("https://archivesort.org/discuss/reddit/miser?type=".concat(Ve[0],"&").concat(et).concat(tt?"&before=".concat(tt):""));case 27:return j=t.sent,console.info(j.url),t.next=31,j.json();case 31:f=t.sent,ge((function(e){return e+f.data.length})),s.push(f.data);case 34:t.next=68;break;case 36:if(!(Ve.length>1)){t.next=68;break}console.log(l,o,r.size),p=a.a.mark((function t(){var c,r,i,o,d,u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.length>0&&(tt=n.slice(-1)[0]),console.info("fetching miser > 1000"),fe((function(e){return e+1})),t.next=5,fetch(nt("submissions",Ge.before?"":tt));case 5:return c=t.sent,t.next=8,fetch(nt("comments",Ge.before?"":tt));case 8:if(404!==(r=t.sent).status){t.next=11;break}throw new e.AbortError(r.statusText);case 11:return console.info(r.url),console.info(c.url),t.next=15,r.json();case 15:return i=t.sent,t.next=18,c.json();case 18:if(o=t.sent,d=o?o.data.concat(i.data):"",u=d?d.sort((function(e,t){return t.created_utc-e.created_utc})):"",0!==i.data.length||0!==o.data.length){t.next=30;break}if(0!==s.length){t.next=29;break}return console.info("break"),Ae("No Results"),$e.current.style.display="block",t.abrupt("return","break");case 29:return t.abrupt("return","break");case 30:return u&&(s.push(u),n.push(u.slice(-1)[0].created_utc),ge((function(e){return e+u.length}))),l+=1,console.info("cooldown between request"),t.next=35,ct(1500);case 35:case"end":return t.stop()}}),t)}));case 39:if(l===o){t.next=46;break}return t.delegateYield(p(),"t1",41);case 41:if("break"!==t.t1){t.next=44;break}return t.abrupt("break",46);case 44:t.next=39;break;case 46:if(!(h&&Ve.length>1)){t.next=68;break}return console.info("fetching rest of data"),fe((function(e){return e+1})),tt=n.slice(-1)[0],t.next=52,fetch("https://archivesort.org/discuss/reddit/miser?type=submissions/?".concat(et.replace(/size=\d+/,"size=".concat(h))).concat(tt?"&before=".concat(tt):""));case 52:return O=t.sent,t.next=55,fetch("https://archivesort.org/discuss/reddit/miser?type=comments/?".concat(et.replace(/size=\d+/,"size=".concat(h))).concat(tt?"&before=".concat(tt):""));case 55:return x=t.sent,console.info(O.url),console.info(x.url),t.next=60,x.json();case 60:return g=t.sent,t.next=63,O.json();case 63:m=t.sent,v=m?m.data.concat(g.data):"",k=v?v.sort((function(e,t){return t.created_utc-e.created_utc})):"",ge((function(e){return e+k.length})),s.push(k);case 68:ye(s.concat.apply([],s)),n.length=0,s.length=0,t.next=76;break;case 73:t.prev=73,t.t2=t.catch(0),console.error(t.t2);case 76:case"end":return t.stop()}}),t,null,[[0,73]])})))).apply(this,arguments)}var at={pushshift:function(){try{N||p([!1]),r.size<=100?Promise.all(Ve.map((function(e){return fetch(st(e,tt)).then((function(e){return console.info(e.url),console.info("fetching <= 100"),fe(je+1),e.json()}))}))).then((function(e){1==Ve.length?(ye(e[0].data),0===e[0].data.length?(Ae("No Results"),$e.current.style.display="block"):$e.current.style.display="none",ge((function(t){return t+e[0].data.length}))):Promise.all([].concat(Object(d.a)(e[0].data),Object(d.a)(e[1].data))).then((function(e){e.sort((function(e,t){return new Date(t.created_utc)-new Date(e.created_utc)})),0===e.length?(Ae("No Results"),$e.current.style.display="block"):$e.current.style.display="none",ge((function(t){return t+e.length})),ye(e)}))})):r.size>100&&function(){rt.apply(this,arguments)}()}catch(e){console.log(e)}},miser:function(){try{var e;N||p([!1]);for(var t=[],n=0;n<Ve.length;n++)e=Ve[n]+="s",t.push(e);r.size<=1e3?Promise.all(t.map((function(e){return fetch(nt(e,tt)).then((function(e){return console.info(e.url),console.info("fetching <= 1000"),fe(je+1),e.json()}))}))).then((function(e){1==Ve.length?(ye(e[0].data),0===e[0].data.length?(Ae("No Results"),$e.current.style.display="block"):$e.current.style.display="none",ge((function(t){return t+e[0].data.length}))):Promise.all([].concat(Object(d.a)(e[0].data),Object(d.a)(e[1].data))).then((function(e){e.sort((function(e,t){return new Date(t.created_utc)-new Date(e.created_utc)})),0===e.length?(Ae("No Results"),$e.current.style.display="block"):$e.current.style.display="none",ge((function(t){return t+e.length})),ye(e)}))})):r.size>1e3&&function(){it.apply(this,arguments)}()}catch(s){console.log(s)}},reddit:function(){var e=Object(o.a)(a.a.mark((function e(){var t,n,s,c,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,N||p([!1]),[],!(r.size<=100)){e.next=17;break}if(!JSON.parse(window.sessionStorage.getItem("reddit_access_token"))){e.next=17;break}return t=JSON.parse(window.sessionStorage.getItem("reddit_access_token")).access_token,console.info("fetching <= 100 reddit"),e.next=9,fetch("https://oauth.reddit.com/search?".concat(et),{headers:{Authorization:"Bearer "+t}});case 9:return n=e.sent,console.info(n.url),e.next=13,n.json();case 13:for(s=e.sent,c=[],i=0;i<s.data.children.length;i++)c.push(s.data.children[i].data);ye(c);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(){return e.apply(this,arguments)}}()};function ot(e,t){var n=(e.getTime()-t.getTime())/1e3;return n/=3600,Math.abs(Math.round(n))}var lt={tokenAuth:function(){var e=Object(o.a)(a.a.mark((function e(){var t,n,s,c,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("hiXFGUDKexlKL2LKEoyK6g","PiXF-PgFhhX1dRk57ha_-dvDdQwYwg",t=!!window.sessionStorage.getItem("reddit_access_token")&&JSON.parse(window.sessionStorage.getItem("reddit_access_token")),n=new Date,t&&!(ot(new Date(t.retrieved_at),new Date(n))>=1)){e.next=16;break}return console.info("fetching a reddit access token > valid for 3600"),e.next=8,fetch("https://www.reddit.com/api/v1/access_token",{method:"post",headers:{Authorization:"Basic "+btoa("".concat("hiXFGUDKexlKL2LKEoyK6g",":").concat("PiXF-PgFhhX1dRk57ha_-dvDdQwYwg")),"Content-Type":"application/x-www-form-urlencoded"},body:"grant_type=https://oauth.reddit.com/grants/installed_client&device_id=DO_NOT_TRACK_THIS_DEVICE"});case 8:return s=e.sent,console.info(s.url),e.next=12,s.json();case 12:(c=e.sent).access_token?(r=new Date,c.retrieved_at=r,window.sessionStorage.setItem("reddit_access_token",JSON.stringify(c)),console.log(c.access_token,"TOKEN")):console.error("4xx error access token not recieved"),e.next=17;break;case 16:console.info("Using access token from sessionStorage");case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),syncData:function(){var e=[];for(var t in ke)ke[t].domain?e.push("t3_".concat(ke[t].id)):e.push("t1_".concat(ke[t].id));e.join(",");for(var n=[],s=0;s<e.length;s+=100){var c=e.slice(s,s+100);n.push(c)}try{if(JSON.parse(window.sessionStorage.getItem("reddit_access_token"))&&ke){var r=JSON.parse(window.sessionStorage.getItem("reddit_access_token")).access_token;Promise.all(n.map((function(e){return fetch("https://oauth.reddit.com/api/info?id=".concat(e.join(",")),{headers:{Authorization:"Bearer "+r}}).then((function(e){return e.json()}))}))).then((function(t){if(ke){for(var n=0;n<t.length;n++){var s=t[n].data.children;for(var c in ke)for(var r in s)ke[c].id===s[r].data.id&&(ke[c].upvote_ratio=s[r].data.upvote_ratio,ke[c].kind=s[r].kind,"[deleted]"===s[r].data.author&&"[deleted]"===s[r].data.body||"[deleted]"===s[r].data.author&&"[deleted]"===s[r].data.selftext?ke[c].is_deleted="deleted":"[removed]"!==s[r].data.body&&"[removed]"!==s[r].data.selftext||(ke[c].is_deleted="removed"));console.info("synced with reddit"),e.length=0}if(N||"Deleted Submissions/Comments"===de)if(N||"Deleted Submissions/Comments"!==de)N&&p((function(e){return[].concat(Object(d.a)(e),Object(d.a)(ke))}));else{for(n=ke.length-1;n>=0;--n)"deleted"!==ke[n].is_deleted&&"removed"!==ke[n].is_deleted&&(ke.splice(n,1),p(ke));K(!0)}else p(ke),K(!0)}})),0===ke.length&&K(!0)}}catch(i){console.log(i)}}};v||"Miser"===ce||"Reddit"===ce||(at.pushshift(),lt.tokenAuth(),k(!0),$e.current.style.display="none"),Object(s.useEffect)((function(){var e=!1;(ke&&!e||N&&ce)&&(lt.syncData(),e=!0)}),[ke,ce]),v||"Miser"!==ce||(at.miser(),lt.tokenAuth(),k(!0),$e.current.style.display="none"),v||"Reddit"!==ce||(at.reddit(),lt.tokenAuth(),k(!0),$e.current.style.display="none"),Object(s.useEffect)((function(){if(N&&"Miser"!==ce)if(r.size<f.length)r.size+=25,C(!1),Te(!1);else if(r.size===f.length||r.size>f.length){var e=f.slice(-1)[0].created_utc;tt=e,console.log(et),at.pushshift(),Te(!0)}if(N&&"Miser"===ce)if(r.size<f.length)r.size+=25,C(!1),Te(!1);else if(r.size===f.length||r.size>f.length){var t=f.slice(-1)[0].created_utc;tt=t,console.log(et),at.miser(),Te(!0)}}),[N,f]);var dt=0;return dt=1!==f.length||f[0]?f.length<r.size?f.length:r.size:0,Object(s.useEffect)((function(){"light"===localStorage.getItem("theme")?(He.current.checked=!0,We(!0)):(He.current.checked=!1,We(!1))})),Object(s.useEffect)((function(){Pe?document.body.classList.add("light-mode"):document.body.classList.remove("light-mode")}),[Pe]),Object(O.jsxs)(I.a,{basename:"",forceRefresh:!0,children:[Object(O.jsxs)("div",{className:"App",children:[Object(O.jsxs)("div",{id:"logo-parent",children:[Object(O.jsxs)("div",{id:"logo",children:[Object(O.jsxs)(I.b,{to:"/",activeClassName:"none",exact:!0,children:[Object(O.jsxs)("h1",{id:"logo-text",children:[Object(O.jsx)("i",{className:"fa fa-reddit-alien",id:"icon","aria-hidden":"true"})," ","Reddit Search Tool ",Object(O.jsx)("br",{})," "]})," "]}),Object(O.jsxs)("h2",{id:"pushift-descript",children:[Object(O.jsx)("a",{className:Pe?"light-pushift":"",href:"https://pushshift.io/",target:"_blank",children:"Utilizing Pushift.io"})," "]})," "]})," "]})," ",Object(O.jsxs)("header",{children:[" ",Object(O.jsxs)("nav",{children:[" ",Object(O.jsxs)("div",{className:"container",children:[Object(O.jsxs)("ul",{children:[" ",Object(O.jsx)("li",{children:Object(O.jsx)(I.b,{to:"/",activeClassName:"active",className:"non-active",exact:!0,children:"Home"})}),Object(O.jsx)("li",{children:Object(O.jsx)(I.b,{to:"/about",activeClassName:"active",className:"non-active",children:"About"})}),Object(O.jsx)("li",{children:Object(O.jsx)(I.b,{to:"/settings",activeClassName:"active",className:"non-active",children:"Settings"})})]})," ",Object(O.jsx)("div",{id:"container-parent",children:Object(O.jsxs)("label",{id:"switch",className:"switch",children:[Object(O.jsx)("input",{type:"checkbox",id:"slider",onChange:function(e){var t="";e.target.checked?(t="light",We(!0)):(t="dark",We(!1)),localStorage.setItem("theme",t),window.location.reload()},ref:He}),Object(O.jsx)("span",{className:"slider round"})]})})]})]})]}),Object(O.jsxs)(D.c,{children:[" ",Object(O.jsxs)(D.a,{path:"/",exact:!0,render:!0,children:[Object(O.jsx)("div",{id:"search-form",children:Object(O.jsx)("div",{id:"form-wrapper",children:Object(O.jsx)(x,{minimize:M,setSearch:k,search:v,updateData:i,setMinimize:T,showResults:Be,showFava:Je,changeQuerySize:function(){T(!0),M&&T(!1)},toggleInput:Pe,setApi:re,apis:ce,setDeletionStatus:ue,deletionStatus:de,syncingData:J})})}),"  ",Object(O.jsxs)("div",{className:"analytics-parent",children:[" ",r.author?Object(O.jsx)(R,{username:r.author,setDataRecieved:G,dataRecieved:$,syncingData:J,toggleInput:Pe,minAnalytics:ee,changeAnalyticsSize:function(){te(!0),ee&&te(!1)}}):""]}),Object(O.jsx)("div",{id:"items-parent",ref:Je,children:Object(O.jsx)("div",{children:Object(O.jsx)(S,{api:f,query:r.query,minimizeR:P,errorMessage:De,error:$e,data:i,setMore:C,showResults:Be,size:r.size,loadingMessage:Me,searchTerm:r.q,changeResultsSize:function(){W(!0),P&&W(!1)},resultAmt:dt,toggleInput:Pe,syncingData:J,requests:je,itemCount:xe})})})]})," ",Object(O.jsx)(D.a,{path:"/about",children:Object(O.jsx)("div",{children:Object(O.jsx)(_,{})})}),Object(O.jsxs)(D.a,{path:"/settings",children:[" ",Object(O.jsx)("div",{children:Object(O.jsx)(z,{})})]})]})]})," "]})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,238)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),s(e),c(e),r(e),i(e)}))};r.a.render(Object(O.jsx)(q,{}),document.getElementById("root")),M()}},[[236,1,2]]]);
//# sourceMappingURL=main.e51ee44a.chunk.js.map